function viewportWidth(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),e[t+"Width"]}function animateHeight(){if(accordion_content.hasClass("expanded"))accordion_content.animate({height:56},200,function(){accordion_content.removeClass("expanded"),accordion_content.css({height:"auto"})});else{accordion_content.addClass("expanded");var e=(accordion_content.height(),accordion_content.css({height:"auto"}).height());accordion_content.css({height:55}).animate({height:e},200)}}function barToolTips(){$(".campaigns-list li .bar-tooltip").hide(),$(".bar-tooltip").each(function(){$(this).css("left",$(this).parent().find(".bar-container .bar").width()-$(this).width()/2+5)})}function campaignListHover(e){"enable"==e?($(".campaigns-list li .donate .goal").show(),$(".campaigns-list li").hover(function(){$(this).find(".donate .goal").hide(),$(this).find(".donate a").show(),$(this).find(".bar-tooltip").show()},function(){$(this).find(".donate .goal").show(),$(this).find(".donate a").hide(),$(this).find(".bar-tooltip").hide()})):$(".campaigns-list li").unbind("mouseenter mouseleave")}function donationMap(){var e="donors-map",t=new google.maps.LatLngBounds,n="",i=0;$("ul.donations").each(function(){$(this).find("li.state").each(function(){i+=$(this).find("ul.donations-by-state li.donation").length})});var a,o,r,s=1==i,l=$("ul.other-countries").length>0,d=0===$(".alaska").length&&0===$(".hawaii").length,c=$(".alaska").length>0||$(".hawaii").length>0;s||(l?(a="",o="",r=""):c?(a=39.8282,o=-98.5795,r=3):d&&(a=39.8282,o=-98.5795,r=4));var u=$("#"+e).attr("data-markers-url"),h=$("#"+e).attr("data-map-marker");google.maps.event.addDomListener(window,"load",function(){s?$.getJSON(u,function(e){$.each(e,function(e,t){if(n=initialize("donors-map",t[0],t[1],4),null!==t[0]&&null!==t[1]){var i=new google.maps.LatLng(parseFloat(t[0]),parseFloat(t[1]));addMarker(n,i,h)}}),l&&n.fitBounds(t)}):(n=initialize("donors-map",a,o,r),$.getJSON(u).done(function(e){$.each(e,function(){var e=parseFloat(this[0]),i=parseFloat(this[1]),a=new google.maps.LatLng(e,i);$("ul.other-countries").length>0&&t.extend(a),addMarker(n,a,h)}),!s&&l&&n.fitBounds(t)}))});var f=new google.maps.LatLng(parseFloat(a),parseFloat(o));google.maps.event.addDomListener(window,"resize",function(){n.setCenter(f),google.maps.event.trigger(n,"resize"),l&&n.fitBounds(t)})}function initialize(e,t,n,i){var a;t="undefined"!=typeof t?t:"",n="undefined"!=typeof n?n:"",i="undefined"!=typeof i?i:"";var o=[{stylers:[{saturation:-100},{lightness:36}]}];if(""!==t&&""!==n&&""!==i){var r=new google.maps.LatLng(parseFloat(t),parseFloat(n));a={center:r,zoom:i,styles:o,disableDefaultUI:!0,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0}}else a={styles:o,disableDefaultUI:!0,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0};var s=new google.maps.Map(document.getElementById(e),a);return s}function addMarker(e,t,n){{var i=new google.maps.MarkerImage(n,null,null,null,new google.maps.Size(21,30));new google.maps.Marker({position:t,map:e,icon:i})}}function campaignHover(){$(".campaigns-list ul li").mouseenter(function(){$(this).find(".image-header-container").addClass("hover"),$(this).addClass("hover")}).mouseleave(function(){$(this).find(".image-header-container").removeClass("hover"),$(this).removeClass("hover")})}function KOArrayInput(){function e(e){return{name:ko.observable(e)}}var t=ko.observableArray();return t.addItem=function(n,i){$(i.target).parent(".field").hasClass("disabled")||t.push(new e("")),i.preventDefault()},t.removeItem=function(e){t.remove(e)},t.setup=function(n){var i=n?n.split("\n"):[];_.each(i,function(n){t.push(new e(n))})},t.asText=ko.pureComputed(function(){return _.map(t(),function(e){return e.name()}).join("\n")}),t}function rgb2hex(e){return e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),e&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function widgetColorize(e){""===e?($(".ds-custom-color").css("color",""),$(".ds-custom-color-hover").unbind("mouseover mouseout"),$("ds-widget").css("color","#c0249a"),surveyUnColorize()):($(".ds-custom-color").css("color",e),$(".ds-custom-color-hover").on("mouseover",function(){$(this).css("color",e)}),$(".ds-custom-color-hover").on("mouseout",function(){$(this).css("color","")}),surveyColorize(e))}function surveyColorize(e){$(".survey ul.survey-options li").css("background-color","#f2f2f2").css("color",e),$(".survey ul.survey-options li.selected").length>0&&($(".survey ul.survey-options li.selected").css("background-color",e).css("color","white"),$(".survey.can_vote .actions button.submit").css("background-image","none").css("background-color",e).css("color","white")),$(".survey ul.survey-options li").not(".survey.has_voted .ul.survey-options li").not(".survey.closed .ul.survey-options li").on("click.survey",function(){$(".survey ul.survey-options li").css("background-color","#f2f2f2").css("color",e),$(this).css("background-color",e).css("color","white"),$(".survey.can_vote .actions button.submit").css("background-image","none").css("background-color",e).css("color","white")})}function surveyUnColorize(){$("ul.survey-options li").removeAttr("style"),$(".survey .actions button").removeAttr("style"),$("ul.survey-options li").unbind("click.survey")}function embedConstructor(e,t,n,i){var a=e,o="",r="#c0249a";switch(t){case"a300":o="300px";break;case"a400":o="400px";break;case"a600":o="600px";break;case"a100p":o="100%";break;default:o="300px"}return a=a.replace(/(width: )\d{3}(px)?(%)?/,"width: "+o),a=""!==n?colorChanger(a,n):colorChanger(a,r),i?-1==a.search('class="custom"')&&(a=a.replace("style",'class="custom" style')):a=a.replace('class="custom" style',"style"),a}function colorChanger(e,t){return e.replace(/(color: #)(\w)*;/,"color: "+t+";")}function updateGetCode(e){e?$(".widget-container .get-code textarea.widget").each(function(){var e=$(this).val(),t=$(this).parents(".widget-container").find(".options ul li a.active").parent().attr("class"),n=$(".color-picker input").val(),i=embedConstructor(e,t,n,!0);$(this).val(i)}):$(".widget-container .get-code textarea.widget").each(function(){var e=$(this).val(),t=$(this).parents(".widget-container").find(".options ul li a.active").parent().attr("class"),n=embedConstructor(e,t,"",!1);$(this).val(n)})}function toast(e){$(e).parent().find(".toast").fadeIn(400,function(){setTimeout(function(){$(e).parent().find(".toast").fadeOut()},1500)})}function clipboardCopying(){var e,t=["facts-by-state-and-topic-script","facts-by-state-and-topic-widget","article-library-script","article-library-widget","search-for-help-script","search-for-help-widget","all-in-one-script","all-in-one-widget","books-script","books-widget","survey-script","survey-widget"],n=[];for(e=0;e<t.length;e++)n[e]=new ZeroClipboard(document.getElementById(t[e])),n[e].on("ready",function(){this.on("copy",function(e){var t=e.clipboardData;t.setData("text/plain",e.target.value),toast(e.target)})})}function bubble(e){var t=e.width(),n={};e.addClass("active");var i=e.find(".js-bubble-content");switch(e.data("type")){case"full":n.left=0,$(i).css({marginLeft:-e.position().left}),$(i).css({width:$(".main-col").width()}),$(i).css({display:"block"}),$(i).addClass("bubble-full"),$(e).parent().parent().css({marginBottom:i.height()+75}).addClass("child-active"),arrowPosition=$(e).parent().parent().position().left+$(e).parent().parent().outerWidth()/2+-14,$("style").each(function(){0===$(this).text().length&&$(this).detach()});var a=document.createElement("style");$prevStyle=$(a).prev("style"),$prevStyle.text().length<1&&$prevStyle.detach(),a.appendChild(document.createTextNode("")),document.head.appendChild(a),a.sheet.insertRule(".js-bubble-content::before { left: "+arrowPosition+"px !important }",0);break;case"top-left":e.addClass("js-bubble-left"),n.left=-20,$(i).removeClass("bubble-full");break;case"top":n.left="50%",$(i).removeClass("bubble-full");break;default:n.left=-($(i).width()/2-t/2+15),$(i).removeClass("bubble-full")}switch($(i).show(),e.data("location")){case"bottom":n.direction="bottom",n.startValue=-200,n.endValue=-($(i).height()+80),i.addClass("hide-after");break;default:n.direction="top",n.startValue=-($(i).height()+30),n.endValue=-($(i).height()+40),i.addClass("hide-before")}animate(i,n)}function animate(e,t){var n={};n[t.direction]=t.startValue,n.left=t.left,n.opacity=0;var i={};i[t.direction]=t.endValue,i.left=t.left,i.opacity=1,$(e).css(n),setTimeout(function(){$(e).css(i)},10)}function closeBubble(e){e.removeClass("active"),e.parent().parent().removeClass("child-active"),"bottom"==e.data("location")&&e.parent().parent().css({marginBottom:"10px"}),bottomValue="click"==e.data("event")?"-200px":"initial",e.find(".js-bubble-content").css({top:"auto",left:"auto",opacity:0,bottom:bottomValue}).hide()}function sortableTables(){$("table.sortable").DataTable({paging:!1,searching:!1})}function zeroify(){$("td").each(function(){""===$(this).text()&&$(this).text("0")})}function applyTimify(){$("tbody .time").each(function(){$(this).html(timify($(this).text()))})}function totals(){var e=0,t=0,n=0,i=0,a=0,o=0,r=0;$("div.lifetime tbody tr").each(function(){e+=parseInt($(this).find(".impressions").text()),t+=parseInt($(this).find(".pageviews").text()),n+=parseInt($(this).find(".clicks").text()),i+=parseInt($(this).find(".time").text()),a+=parseInt($(this).find(".donations").text()),o+=parseInt($(this).find(".items").text()),r+=parseInt($(this).find(".value").text())}),$(".lifetime-performance li.impressions .total").text(kify(e)),$(".lifetime-performance li.pageviews .total").text(kify(t)),$(".lifetime-performance li.clicks .total").text(kify(n)),$(".lifetime-performance li.time .total").html(timify(i)),$(".lifetime-performance li.donations .total").text(kify(a)),$(".lifetime-performance li.items .total").text(kify(o)),$(".lifetime-performance li.value .total").text(moneyify(kify(r)))}function kify(e){return e>1e3?(e/1e3).toFixed(1)+"k":e}function moneyify(e){return"$"+e.toString()}function timify(e,t,n,i){t="undefined"!=typeof t?t:0,n="undefined"!=typeof n?n:0,i="undefined"!=typeof i?i:0;var a=Math.floor(e/86400),o=Math.floor(e/3600),r=Math.floor(e/60);if(a>=1)return timify(e%86400,a);if(o>=1)return timify(e%3600,t,o);if(r>=1)return timify(e%60,t,n,r);var s="";return t>0?(s+=t+"<span>d</span>",s+=n+"<span>h</span>"):n>0?(s+=n+"<span>h</span>",s+=i+"<span>m</span>"):i>0?(s+=i+"<span>m</span>",s+=e%60+"<span>s</span>"):s+=e%60+"<span>s</span>",s}function surveySetup(e){e.hasClass("allow_multiple_responses")?multipleResponseSurveySetup(e):singleResponseSurveySetup(e),e.find("button.submit").on("click",function(){var e=$(this),t=e.html(),n=[],i=DS.routes.surveys_path+"/"+e.data("survey-slug");e.prop("disabled",!0),e.html('<i class="fa fa-spinner fa-spin"></i>'),e.parents(".survey").find("li.selected input").each(function(){n.push($(this).data("option-id"))}),$.ajax({method:"POST",url:i+"/vote.json",dataType:"json",data:{survey_option_ids:n}}).done(function(){$(".surveys.token").length>0?window.top.location.href=i:window.location.href=i}).fail(function(){e.html(""),e.text(t),e.prop("disabled",!1)})})}function singleResponseSurveySetup(e){e.find("ul li").on("click",function(){$(this).hasClass("selected")||(e.unbind(),e.find(".actions button.submit").prop("disabled",!1),e.find("ul li").removeClass("selected"),$(this).addClass("selected"),$(this).parent().find("input[type=radio]").prop("checked",!1),$(this).find("input[type=radio]").prop("checked",!0),e.find(".actions button.submit").removeClass("btn1").addClass("btn3").removeAttr("title"))})}function multipleResponseSurveySetup(e){e.find("ul li").on("click",function(){$(this).hasClass("selected")?($(this).removeClass("selected"),$(this).find("input[type=checkbox]").prop("checked",!1),0===e.find("ul li.selected").length&&(e.find(".actions button.submit").prop("disabled",!0),e.find(".actions button.submit").removeClass("btn3").addClass("btn1"))):(e.unbind(),e.find(".actions button.submit").prop("disabled",!1),$(this).addClass("selected"),$(this).find("input[type=checkbox]").prop("checked",!0),e.find(".actions button.submit").removeClass("btn1").addClass("btn3").removeAttr("title"))})}function skipper(){$(".hide").addClass("skipped"),$("a.skipped").hide(),$("button.submit").html("Vote"),$("button.submit").removeClass("long").addClass("short")}function horizontalBarChart(){$("#bar ul li .bar-container .bar").each(function(){var e=$(this);setTimeout(function(){e.animate({width:e.parents("li").data("bounds")},{duration:1e3,easing:"easeOutCubic"})},500)})}function resetHorizontalBarChart(){$("#bar ul li .bar-container .bar").each(function(){$(this).css("width","0px")})}function pieChart(){var e={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeOutCubic",animateRotate:!0,animateScale:!1,tooltipFillColor:"rgba(68,68,68,0.8)",tooltipYPadding:10,tooltipXPadding:10,tooltipCaretSize:12,tooltipTemplate:"<%= numeral(value).format('(0,0[.]00)') %> votes / <%= numeral(circumference / 6.283).format('(0[.][00]%)') %>",legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="color" style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},t=[];$("#bar ul li").each(function(){t.push({value:$(this).data("votes"),color:$(this).data("color"),label:$(this).find("span.option").html()})});var n=$("#pie canvas").get(0).getContext("2d"),i=new Chart(n).Pie(t,e),a=document.getElementById("pie-legend");a.innerHTML=i.generateLegend();var o=Chart.helpers;o.each(a.firstChild.childNodes,function(e,t){o.addEvent(e,"mouseover",function(){var e=i.segments[t];e.save(),i.showTooltip([e]),e.restore()})}),o.addEvent(a.firstChild,"mouseout",function(){i.draw()}),a.appendChild(a.firstChild)}function rgb2hex(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+t(e[1])+t(e[2])+t(e[3])}function uniques(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&JSON.stringify(e[t])==JSON.stringify(e[n])&&(e.splice(n,1),n--);return e}function heatMapSingleUniquePointChecker(e){var t=$(e).data("votes"),n=uniques(t);return 1==n.length?(n[1]={latitude:n[0].latitude+.001,longitude:n[0].longitude+.001},t=_.map(n,function(e){return{location:new google.maps.LatLng(e.latitude,e.longitude)}})):t=_.map($(e).data("votes"),function(e){return{location:new google.maps.LatLng(e.latitude,e.longitude)}}),t}function getAddThisShares(e){"undefined"!=typeof addthis?addthis.sharecounters.getShareCounts({service:["facebook","pinterest","reddit","linkedin"],countUrl:e},function(e){var t=0;$.each(e,function(e,n){null!=n.count&&"?"!=n.count&&(t+=n.count)}),$(".shares span").text(t)}):setTimeout(function(){getAddThisShares(e)},1e3)}function getFacebookLikes(e){var t="https://graph.facebook.com/?fields=og_object{likes.limit(0).summary(true)},share&ids=",n=encodeURIComponent(e),i=t+n;$.ajax({url:i,success:function(t){var n=0;t[e].og_object&&(n=t[e].og_object.likes.summary.total_count),$(".likes span").text(n)},error:function(){$(".likes span").text(0)}})}function onYouTubeIframeAPIReady(){var e=$("[data-youtube]").attr("data-youtube");e&&hookUpYouTubePlayer(e)}function hookUpYouTubePlayer(e){function t(){r=$(d.a),l=r.attr("data-slug"),r.removeAttr("width").removeAttr("height"),s=d.getDuration()}function n(e){switch(e.data){case YT.PlayerState.PLAYING:u||(ga("send",{hitType:"event",eventCategory:"Video - "+l,eventAction:"play"}),u=!0,c=!1);break;case YT.PlayerState.ENDED:ga("send",{hitType:"event",eventCategory:"Video - "+l,eventAction:"completed"}),i(100),c=!0,u=!1}}function i(e){c||u&&ga("send",{hitType:"event",eventCategory:"Video - "+l,eventAction:"amount watched",eventLabel:e+"%",eventValue:e})}function a(){return Math.round(d.getCurrentTime())}function o(){return Math.round(a()/s*100)}window.onbeforeunload=null;var r,s,l,d=new YT.Player("player",{height:"390",width:"640",videoId:e,playerVars:{showinfo:0,rel:0},events:{onReady:t,onStateChange:n}}),c=!1,u=!1;window.onbeforeunload=function(){i(o())},$(".mfp-video .video-image-container .navigation-link").on("click",function(){i(o())})}function hideEmptyFilenames(){$(".agendas .agenda").each(function(){""==$(this).find(".filename").text()?$(this).find(".agenda-filename").hide():$(this).find(".agenda-filename").show()}),$(".presenters .presenter").each(function(){""==$(this).find(".filename").text()?$(this).find(".presenter-filename").hide():$(this).find(".presenter-filename").show()}),$(".flyers .flyer").each(function(){""==$(this).find(".filename").text()?$(this).find(".flyer-filename").hide():$(this).find(".flyer-filename").show()})}function recurringWarningCheck(){return $("#event_multiday_event").is(":checked")?(alert("Recurrence is not available for Multi-day Events."),!1):""==$(".date:first .event_date input").val()&&""==$(".date:first .event_start_time input.js-timepicker").val()&&""==$(".date:first .event_end_time input.js-timepicker").val()?(alert("Please fill out the first date field to use Recurrence."),!1):confirm("Using Recurrence will delete all but the first date entered and populate 6 months worth of future dates.  Are you sure you want to proceed?")}function addDate(e,t,n,i){var a=$(".date").first().clone();a.find(".event_date input").val(e),a.find(".event_start_time input.js-timepicker").val(t),a.find(".event_end_time input.js-timepicker").val(n),0!=i?a.insertAfter(i.parents(".date")):$(".dates").append(a),$(".date").length>1&&$(".remove-date").show()}function getTimepickiTime(e){if(""===e.val())return["12","00","PM"];var t=e.val(),n=t.replace(/ /g,":"),i=n.split(":");return i}function applyPickers(){var e=new Date;$(".js-timepicker").timepicki({start_time:getTimepickiTime($(".js-timepicker"))}),$(".js-datepicker").pikaday({format:"YYYY-MM-DD",minDate:e})}function removeAllButFirstDate(e){if($(".date").length>1){var t=1;$(".date").each(function(){t>1&&$(this).remove(),t++}),e&&$(".date input[type=text]").val("")}}function removeLeadingZero(e){return"0"==e.substring(0,1)&&(e=e.substring(1,2)),e}function addLeadingZero(e){return 10>e&&(e="0"+e),e}function addMonthlyRecurring(){var e=$(".date:first .event_start_time input.js-timepicker").val(),t=$(".date:first .event_end_time input.js-timepicker").val(),n=$(".date:first .event_date input").val();if(""==e||""==t||""==n)return alert("Please populate at the first date, start time, and end time fields before using recurrence."),!1;removeAllButFirstDate(!1);var e=$(".date:first .event_start_time input.js-timepicker").val(),t=$(".date:first .event_end_time input.js-timepicker").val();day=removeLeadingZero(n.substring(8,10));var i="";i+="on the ",i+=parseInt(day)+1,i+="th day of the month";var a=later.parse.text(i);later.date.UTC();var o=new Date,r=new Date;r.setMonth(r.getMonth()+6);for(var s=later.schedule(a).next(6,o,r),l=0;l<s.length;l++){var d=s[l].getFullYear()+"-"+addLeadingZero(s[l].getMonth()+1)+"-"+addLeadingZero(s[l].getDate());$(".date:first .event_date input").val()!=d&&addDate(d,e,t,!1)}applyPickers()}function addWeeklyRecurring(){var e=$(".date:first .event_start_time input.js-timepicker").val(),t=$(".date:first .event_end_time input.js-timepicker").val(),n=$(".date:first .event_date input").val();if(""==e||""==t||""==n)return alert("Please populate at the first date, start time, and end time fields before using recurrence."),!1;removeAllButFirstDate(!1);var i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=new Date(n);a.setDate(a.getDate()+1),dayOfTheWeek=i[a.getDay()];var o="";o+="on ",o+=dayOfTheWeek;var r=later.parse.text(o),s=new Date,l=new Date;l.setMonth(l.getMonth()+6);for(var d=later.schedule(r).next(24,s,l),c=0;c<d.length;c++){var u=d[c].getFullYear()+"-"+addLeadingZero(d[c].getMonth()+1)+"-"+addLeadingZero(d[c].getDate());$(".date:first .event_date input").val()!=u&&addDate(u,e,t,!1)}applyPickers()}function assignSizeClass(){window_width>=1024&&($("body").addClass("is-desktop"),$("body").removeClass("is-tablet is-small-tablet is-mobile"),jsDesktopTablet()),window_width>849&&1024>window_width&&($("body").addClass("is-tablet"),$("body").removeClass("is-desktop is-small-tablet is-mobile"),jsDesktopTablet()),window_width>349&&850>window_width&&($("body").addClass("is-small-tablet"),$("body").removeClass("is-desktop is-tablet is-mobile")),850>window_width&&($("body").addClass("is-mobile"),$("body").removeClass("is-desktop is-tablet is-small-tablet"),jsMobileSmallTablet())}function jsDesktopTablet(){$("footer").find("#footer-tabs .expand-target").css({display:"block"}),$(".footer-slider .flex-viewport").length<1&&$(".footer-slider").flexslider({animation:"slide",animationLoop:!1,slideshow:!1,smoothHeight:!1,directionNav:!1,controlNav:!0,keyboard:!1,manualControls:".flex-control-nav li ",useCSS:!1,start:function(){$(".footer-slider").css({opacity:"1",height:"auto"})}})}function jsMobileSmallTablet(){$(".footer-slider .flex-viewport").length>0&&$(".footer-slider").flexslider("destroy"),$("footer .expanded").removeClass("expanded"),$("footer").find(".expand-target").hide(),mobileNavSizeCalculation(),$(".expand-js").on("click",function(e){e.preventDefault(),$(this).hasClass("expanded")||$("body").animate({scrollTop:$(this).offset().top},200),$(this).toggleClass("expanded").next(".expand-target").toggle()})}function expandMenu(){$("body").addClass("menu"),$(".nav-mobile").addClass("expanded")}function collapseMenu(){$("body").removeClass("menu"),$(".nav-mobile").removeClass("expanded")}function footerPaddingCalculation(){var e=0;"none"!=$(".sticky-bottom-ad.mobile-only").css("display")&&$(".sticky-bottom-ad.mobile-only").length>0?e+=$(".sticky-bottom-ad.mobile-only").height():"none"!=$(".sticky-bottom-ad.tablet-only").css("display")&&$(".sticky-bottom-ad.tablet-only").length>0&&(e+=$(".sticky-bottom-ad.tablet-only").height()),$(".comparison-bar").length>0&&(e+=$(".comparison-bar").height()),$("footer").css("padding-bottom",e)}function mobileNavSizeCalculation(){$(".nav-mobile").css({height:$(window).height()})}function leaveSite(){window.open("http://weather.com","_newtab"),window.location.replace("http://google.com")}!function(e){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var t=window.location.origin;e("a").each(function(){var n=e(this).prop("href"),i=e(this).prop("target");""!==n&&-1===n.indexOf(t)&&""===i&&"javascript"!==n.substring(0,10)&&e(this).prop("target","_new")})}(jQuery),DS.environment=$("meta[name='environment']").attr("content"),window.COUNTRIES=["United States","Canada","Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua And Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegowina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, the Democratic Republic of the","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran, Islamic Republic of","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Democratic People's Republic of","Korea, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic Of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory, Occupied","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barthelemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","Spain","Sri Lanka","Sudan","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan, Province of China","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Viet Nam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],DS.renderAdUnits=function(){var e=$(document).find("[data-gpt]").filter(":visible");"production"===DS.environment?"undefined"!=typeof googletag&&googletag.cmd.push(function(){$.each(e,function(){var e=$(this).data("gpt"),t=$(this).width(),n=$(this).height(),i=$(this).attr("id");googletag.defineSlot(e,[t,n],i).addService(googletag.pubads()),$(this).removeAttr("data-gpt")}),googletag.pubads().enableSingleRequest(),googletag.enableServices(),$.each(e,function(){var e=$(this).attr("id");googletag.display(e)})}):$.each(e,function(){var e=$(this).width(),t=$(this).height(),n=$("<img>",{src:"http://placehold.it/"+e+"x"+t});$(this).html(n),$(this).removeAttr("data-gpt")})},$(window).load(DS.renderAdUnits),$(".js-flash-messages").slideDown("slow");var locationMetrics=function(){var e=function(e){return $.ajax({url:DS.routes.update_metric_path,data:e,type:"POST"})};return{recordTimeOnPage:function(t){var n=0,i=function(i){var a=i-n;n=i,e({id:t,metric:"time_on_page",delta:a})};riveted.init({eventHandler:i})},recordClick:function(t){return e({id:t,metric:"clicks"})},recordImpression:function(t){return e({id:t,metric:"impressions"})},recordPageView:function(t){return e({id:t,metric:"page_views"})}}}();$("#wishlist-item-search-form").on("ajax:before",function(){$("#product-list, #more-items").fadeOut(),$("#loader").fadeIn()}),$("#wishlist-item-search-form").on("ajax:complete",function(){$("#loader").fadeOut(),$("#product-list, #more-items").fadeIn()}),$(".location-head__read-more").on("click",function(){var e=$(this),t=e.parent(),n=t.siblings(".location-head__content");t.removeClass("location-head__content--active"),n.addClass("location-head__content--active")}),$(".location-wishlist-page__filter-toggle").on("click",function(){var e=$(this);e.toggleClass("button--has-value");var t=e.siblings(".js-submit-on-change");t.toggleClass("active")}),$(document).on("change","[data-load-to-modal]",function(){var e=$(this).val();$.magnificPopup.open({items:{type:"ajax",src:e}})}),$(document).on("click","#more-promo",function(e){e.preventDefault(),$("#promo-loader").css("display","block")}),$("#more-promo").on("after.success.ic",function(){$(this).addClass("_hide"),setTimeout(function(){$(document).trigger("ajaxComplete")},0)}),function(e){this.updateVisible=function(){var t=e(this),n=t.data("toggle").split("|"),i=e(n[0]),a=e(n[1]);t.is(":checked")?(a.show(),i.hide()):(a.hide(),i.show())},e('[data-toggle~="|"]').each(updateVisible),e(document).on("click",'[data-toggle~="|"]',updateVisible)}(jQuery);var locationCompareModel=function(e){var t=this,n=function(e){sessionStorage.setItem("compare_locations",ko.toJSON(e))},i=function(){return JSON.parse(sessionStorage.getItem("compare_locations")||"[]")};this.locations=ko.observableArray(i()),this.locations.subscribe(n),this.toggleLocation=function(e){e={id:e.id,title:e.title};var n=_.findWhere(t.locations(),{id:e.id});return n?t.locations(_.without(t.locations(),n)):t.locations.push(e),setTimeout(function(){footerPaddingCalculation()},100),!0},this.compare=function(){window.location=DS.routes.compare_locations_path},this.hasLocation=function(e){var n=e&&e.id||e;return _.findWhere(t.locations(),{id:n})?!0:!1},this.servicesCount=function(e,t){var n=_.findWhere(e,{id:t});return n?n.services_count:0},e&&(this.detailedLocations=ko.observableArray(),this.categories=ko.observableArray(),this.populationsServed=ko.observableArray(),this.demographicsServed=ko.observableArray(),this.populationsServed.visible=ko.observable(!1),this.demographicsServed.visible=ko.observable(!1),ko.computed(function(){var e=_.pluck(t.locations(),"id");return $.getJSON(DS.routes.compare_locations_path,{id:e}).then(function(e){t.detailedLocations(e.locations),t.populationsServed(e.populations_served),t.demographicsServed(e.demographics_served);var n=_.map(e.categories,function(e){return e.visible=ko.observable(!1),e});t.categories(n)})},this))},searchModel=function(e){var t=this,n=URI();this.selectedLanguage=ko.observable(_.findWhere(DS.languages,{id:parseInt(n.hash(!0).language_id)})),this.selectedServiceIds=ko.observableArray(function(){return _.map(n.hash(!0).service_ids,function(e){return parseInt(e)})}()),this.selectedLanguagesIds=ko.observableArray(function(){var e=_.map(n.hash(!0).languages_ids,function(e){return parseInt(e)});return"undefined"!=typeof t.selectedLanguage()&&(e.push(t.selectedLanguage().id),t.selectedLanguage(null)),e}()),this.selectedDemographicsServedIds=ko.observableArray(function(){return _.map(n.hash(!0).demographics_served_ids,function(e){return parseInt(e)})}()),this.selectedPopulationsServedIds=ko.observableArray(function(){return _.map(n.hash(!0).populations_served_ids,function(e){return parseInt(e)})}()),this.selectedPetShelterOptionIds=ko.observableArray(function(){return _.map(n.hash(!0).pet_shelter_option_ids,function(e){return parseInt(e)})}()),this.comparisons=new locationCompareModel,this.selectedService=ko.observable(),this.selectedServices=ko.computed(function(){var e=t.selectedServiceIds();return _.filter(DS.services,function(t){return _.contains(e,t.id)})}),this.selectedDemographicsServed=ko.computed(function(){var e=t.selectedDemographicsServedIds();return _.filter(DS.demographics_served,function(t){return _.contains(e,t.id)})}),this.selectedPopulationsServed=ko.computed(function(){var e=t.selectedPopulationsServedIds();return _.filter(DS.populations_served,function(t){return _.contains(e,t.id)})}),this.selectedLanguages=ko.computed(function(){var e=t.selectedLanguagesIds();return _.filter(DS.languages,function(t){return _.contains(e,t.id)})}),this.selectedPetShelterOptions=ko.pureComputed(function(){var e=t.selectedPetShelterOptionIds();return _.filter(DS.pet_shelter_options,function(t){return _.contains(e,t.id)})}),this.showFilterRemoval=ko.pureComputed(function(){return t.selectedServices().length>0||t.selectedDemographicsServed().length>0||t.selectedPopulationsServed().length>0||t.selectedLanguages().length>0||t.selectedPetShelterOptions().length>0}),this.currentlyOpen=ko.observable("true"===n.hash(!0).open),this.hotlineAlwaysOpen=ko.observable("true"===n.hash(!0).hotline_always_open),this.emergencyShelter=ko.observable("true"===n.hash(!0).emergency_shelter),this.showServices=ko.observable(DS.advanced===!0||"true"===n.hash(!0).advanced),this.showFilter=ko.observable(!0),this.isSearching=ko.observable(!1),this.isGeolocating=ko.observable(!1),this.radius=ko.observable(n.hash(!0).radius||50),this.latitude=ko.observable(n.hash(!0).latitude),this.longitude=ko.observable(n.hash(!0).longitude),this.q=ko.observable(n.hash(!0).q),this.locations=ko.observableArray(),this.missingQuery=ko.computed(function(){return _.isEmpty(t.q())
},this),this.locationsAvailable=ko.computed(function(){return!t.isSearching()&&!t.missingQuery()&&t.locations().length>0},this),this.noResults=ko.computed(function(){return!t.isSearching()&&!t.missingQuery()&&0===t.locations().length},this);var i=5;this.page=ko.observable(1),this.pagedLocations=ko.computed(function(){var e=(this.page()-1)*i,t=e+i;return this.locations().slice(e,t)},this),this.page.subscribe(function(){$("html, body").scrollTop($("#search-main").offset().top-10)}),this.recordImpressions=function(e){var t=_.compact(_.pluck(e,"id"));_.isEmpty(t)||locationMetrics.recordImpression(t)},this.pagedLocations.subscribe(this.recordImpressions),this.recordClick=function(e){return locationMetrics.recordClick(e.id),!0},this.numPages=ko.computed(function(){return Math.ceil(this.locations().length/i)},this),this.pages=ko.computed(function(){var e=this.numPages(),t=this.page();if(10>=e)return _.range(1,e+1);var n,i,a,o;n=_.range(1,4),i=_.range(_.max([1,t-2]),_.min([t+3,e+1])),a=_.range(e-2,e+1),o=_.union(n,["A"],i,["B"],a);var r=_.indexOf(o,"A"),s=_.indexOf(o,"B");return o[r-1]+1==o[r+1]&&o.splice(r,1,null),o[s-1]+1==o[s+1]&&o.splice(s,1,null),s==o.length-1&&(o[s]=null),r+1==s&&(o[s]=null),null!==o[r]&&(o[r]="..."),null!==o[s]&&(o[s]="..."),_.compact(o)},this),this.search=function(){t.q()?t.geocode(t.q()).then(function(e){t.latitude(e.lat()),t.longitude(e.lng())}).then(function(){n.pathname("/search"),n.fragment(t.params()),window.location=n.toString()}):(t.latitude(null),t.longitude(null),n.pathname("/search"),n.fragment(t.params()),window.location=n.toString())},this.advancedSearch=function(){this.showServices(!0),this.search()},this.params=ko.computed(function(){var e={q:t.q(),latitude:t.latitude(),longitude:t.longitude(),radius:t.radius(),language_id:t.selectedLanguage()?t.selectedLanguage().id:null,language_ids:t.selectedLanguages()?t.selectedLanguagesIds():null,service_ids:t.selectedServices()?_.pluck(t.selectedServices(),"id"):null,demographics_served_ids:t.selectedDemographicsServed()?t.selectedDemographicsServedIds():null,populations_served_ids:t.selectedPopulationsServed()?t.selectedPopulationsServedIds():null,pet_shelter_option_ids:t.selectedPetShelterOptions()?t.selectedPetShelterOptionIds():null,open:t.currentlyOpen()||null,hotline_always_open:t.hotlineAlwaysOpen()||null,emergency_shelter:t.emergencyShelter()||null};return _.each(e,function(t,n){(_.isNull(t)||_.isUndefined(t))&&delete e[n]}),e},this).extend({deferred:!0}),this.fetchLocations=function(){var e=t.params();_.isEmpty(e.q)||(t.isSearching(!0),$.ajax({cache:!1,url:window.location.href,dataType:"json",data:t.params()}).done(function(e){t.page(1),t.loadLocations(e)}).always(function(){t.isSearching(!1)}))},this.loadLocations=function(e){t.locations(e)},this.clearLocations=function(){t.locations([])},ko.computed(function(){if(!_.isEmpty(this.params())){var t=_.extend({},this.params());t.page=this.page(),n.fragment(t),e.widget||(window.location=n.toString())}},this).extend({deferred:!0}),this.findLocation=function(){"undefined"!=typeof navigator.geolocation?(t.isGeolocating(!0),navigator.geolocation.getCurrentPosition(function(e){t.latitude(e.coords.latitude),t.longitude(e.coords.longitude),t.reverseGeocode(e.coords.latitude,e.coords.longitude).then(function(e){t.q(e),t.search(),t.isGeolocating(!1)})},function(e){switch(e.code){case e.PERMISSION_DENIED:alert("User denied the request for Geolocation");break;case e.POSITION_UNAVAILABE:alert("Location information is unavailable");break;case e.TIMEOUT:alert("The request to get user location timed out");break;case e.UNKNOWN_ERROR:alert("An unknown error occured")}},{timeout:12e3})):alert("Geolocation is not supported by your browser")},this.geocode=function(e){if("undefined"!=typeof e){var t=$.Deferred(),n=new google.maps.Geocoder;return n.geocode({address:e},function(e,n){n==google.maps.GeocoderStatus.OK?t.resolve(e[0].geometry.location):t.reject(n)}),t.promise()}},this.reverseGeocode=function(e,t){var n=$.Deferred(),i=new google.maps.LatLng(e,t),a=new google.maps.Geocoder;return a.geocode({latLng:i},function(e,t){t==google.maps.GeocoderStatus.OK?n.resolve(e[0].formatted_address):n.reject(t)}),n.promise()},this.addFilter=function(e){"undefined"!=typeof e&&""!==e&&("demographic"===e.type?t.selectedDemographicsServedIds.push(e.id):"population"===e.type?t.selectedPopulationsServedIds.push(e.id):"language"===e.type?t.selectedLanguagesIds.push(e.id):-1===t.selectedServiceIds.indexOf(e.id)&&t.selectedServiceIds.push(e.id),t.selectedService(""))},this.selectedService.subscribe(t.addFilter),this.toggleServices=function(){$.magnificPopup.open({items:{type:"inline",src:".services"},closeOnBgClick:!1,enableEscapeKey:!1,mainClass:"search-filter"}),$("body").css("overflow","hidden")},this.closeFilters=function(){$("body").css("overflow","visible")},this.clearAllFilters=function(){this.selectedServiceIds([]),this.selectedLanguagesIds([]),this.selectedDemographicsServedIds([]),this.selectedPopulationsServedIds([]),this.selectedPetShelterOptionIds([])},this.toggleFilter=function(){this.showFilter(!this.showFilter())},setTimeout(function(){ko.computed(this.fetchLocations,this).extend({deferred:!0})}.bind(this),1),this.q.subscribe(t.search),this.q()&&void 0===this.latitude()&&void 0===this.longitude()&&this.search()};$(document).ready(function(){var e;"undefined"!=typeof DS.languages&&(e=-1==window.location.pathname.indexOf("search")?new searchModel({widget:!0}):new searchModel({widget:!1}),ko.applyBindings(e)),$(".js-search-widget").length>0&&ko.applyBindings(new searchModel({widget:!0}),$(".js-search-widget").get(0))});var width=viewportWidth(),TITLE_WIDTH=0,CUTOFF_WIDTH=768,SMALL_CUTOFF_WIDTH=400,leftGreen=0,leftOrange=0,leftMagenta=0,rightMagenta=0,rightOrange=0,rightGreen=0,slideWidth=0,homeBindingsSet=!1;if($(function(){function e(e){return e+"px"}function t(){TITLE_WIDTH=SMALL_CUTOFF_WIDTH>width?40:60,leftGreen=0,leftOrange=TITLE_WIDTH,leftMagenta=2*TITLE_WIDTH,rightMagenta=width-TITLE_WIDTH,rightOrange=width-2*TITLE_WIDTH,rightGreen=width-3*TITLE_WIDTH,slideWidth=width>=320?width-2*TITLE_WIDTH:240,n(),i()}function n(){$(".info-center-content li").css("width",e(slideWidth)),$(".info-center-content li.green").css("left",e(leftGreen)),$(".info-center-content li.orange").css("left",e(rightOrange)),$(".info-center-content li.magenta").css("left",e(rightMagenta))}function i(){homeBindingsSet||($(".info-center-content li").on("click",function(){$(this).hasClass("green")&&($(".info-center-content li.orange").animate({left:e(rightOrange)},200),$(".info-center-content li.magenta").animate({left:e(rightMagenta)},200),$(this).animate({left:e(leftGreen)},200)),$(this).hasClass("orange")&&($(".info-center-content li.green").animate({left:e(leftGreen)},200),$(".info-center-content li.magenta").animate({left:e(rightMagenta)},200),$(this).animate({left:e(leftOrange)},200)),$(this).hasClass("magenta")&&($(".info-center-content li.green").animate({left:e(leftGreen)},200),$(".info-center-content li.orange").animate({left:e(leftOrange)},200),$(this).animate({left:e(leftMagenta)},200))}),homeBindingsSet=!0)}function a(){$(".info-center-content li").unbind().removeAttr("style"),homeBindingsSet=!1}$(".pages.homepage").length>0&&(CUTOFF_WIDTH>width?t():a()),window.onresize=function(){width=viewportWidth(),CUTOFF_WIDTH>width?t():a()}}),$("body.locations.show").length>0){var loc=$("[data-location]:first").data().location;locationMetrics.recordPageView(loc.id),locationMetrics.recordTimeOnPage(loc.id);var locationModel=function(e){this.location={id:e&&e.id,title:e&&e.title},this.comparisons=new locationCompareModel};ko.applyBindings(new locationModel(loc),$(".container").get(0))}if($("body.locations.compare").length>0){var vm=new locationCompareModel(!0);ko.applyBindings(vm,$(".container").get(0))}$(".js-accordion").on("click",".js-accordion-expand",function(e){e.preventDefault(),accordion_content=$(this).closest(".js-accordion"),animateHeight()}),$(document).on("click",".js-accordion-expand-all",function(e){e.preventDefault(),$(this).hide(),$(this).next(".js-accordion-collapse-all").show(),$(this).parent().parent().find(".js-accordion").addClass("expanded")}),$(document).on("click",".js-accordion-collapse-all",function(e){e.preventDefault(),$(this).hide(),$(this).prev(".js-accordion-expand-all").show(),$(this).parent().parent().find(".js-accordion").removeClass("expanded")}),$("#recent > li").hover(function(){$(this).find(".summary").addClass("active")},function(){$(this).find(".summary").removeClass("active")}),$(window).load(function(){if($(window).width()<740){var e=100/$("#recent").children().length;$(".articles-page .slider").flexslider({animation:"slide",startAt:0,animationLoop:!0,slideshow:!1,controlNav:!0,directionNav:!1,itemMargin:2}),$(".flex-control-nav li").css("width",e+"%")}else navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?$("#highlight ul li").on("touchend",function(e){"a"===event.target.tagName.toLowerCase()?window.location=jQuery("a",this).attr("href"):($(this).find(".summary").toggleClass("active"),e.preventDefault())}):($("#highlight ul li").on("mouseleave",function(){$(this).find(".summary").removeClass("active")}),$("#highlight ul li").on("mouseenter ",function(){$(this).find(".summary").addClass("active")}))}),$(document).ready(function(){$("#new_email, #token_new_email").on("ajax:send",function(){message=$(this).siblings(".message"),form=$(this)}).on("ajax:success",function(e,t){message.addClass("success"),message.html('      <div class="fa fa-check"></div>      <div>'+t.message+"</div>    ")}).on("ajax:error",function(e,t){message.addClass("error"),message.html('      <div class="fa fa-exclamation-circle"></div>      <div>'+t.responseJSON.message+"</div>    ")}).on("ajax:complete",function(){message.fadeIn("slow",function(){setTimeout(function(e,t){t.find("#email_address").val(""),e.fadeOut("slow",function(){e.removeClass("success error")})},2e3,message,form)})})}),$(document).ready(function(){$(".infographic-modal-trigger").magnificPopup({type:"inline",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in mfp-infographic"})}),"undefined"!=typeof addthis&&!function(){function e(e){var t,n;"addthis.menu.share"===e.type?t="share":"addthis.user.clickback"===e.type&&(t="clickback"),n=$("[data-record-share-url]").data("record-share-url"),$.get(n,{type:t})}addthis.addEventListener("addthis.menu.share",e),addthis.addEventListener("addthis.user.clickback",e)}(),function(){var e=function(){var e=this;this.step=ko.observable(window.location.hash="one");var t=URI();this.donation_amount=ko.observable(t.search(!0).value).extend({required:!0,min:{params:5,message:"Minimum $5 donation"}}),this.monthly=ko.observable(!1),this.first_name=ko.observable().extend({required:!0}),this.last_name=ko.observable().extend({required:!0}),this.email_address=ko.observable().extend({required:!0,email:!0}),this.country=ko.observable().extend({required:!0}),this.zip_code=ko.observable().extend({required:!0}),this.comments=ko.observable("").extend({maxLength:140}),this.comments.charactersRemaining=ko.computed(function(){return 140-this.comments().length},this),this.facebookUser=ko.observable(),this.facebookLogin=function(){FB.login(function(t){t.authResponse&&FB.api("/me?fields=id,email,first_name,last_name,picture.type(large)",function(t){e.facebookUser(t)})},{scope:"email"})},this.facebookUser.subscribe(function(e){this.first_name(e.first_name),this.last_name(e.last_name),this.email_address(e.email)},this),this.facebookPhoto=ko.computed(function(){return e.facebookUser()&&e.facebookUser().picture&&!e.facebookUser().picture.is_silhouette?e.facebookUser().picture.data.url:null},this),this.removeFacebookPhoto=function(){var t=e.facebookUser();delete t.picture,e.facebookUser(t)},this.anonymous=ko.observable(!1),$.getJSON("//freegeoip.net/json").then(function(t){e.country()||e.country(t.country_name)}),this.stripeToken=ko.observable(),this.errors=ko.observableArray(),this.isProcessing=ko.observable(!1),this.country.availableCountries=COUNTRIES,this.country.label=ko.computed(function(){switch(e.country()){case"United States":return"Zip code";case"Canada":return"Postal code";default:return"Postal code"}}),this.payment={zip_code:ko.observable(),country:ko.observable()},this.zip_code.subscribe(this.payment.zip_code),this.country.subscribe(this.payment.country),this.setStep=function(e){window.location.hash=e},this.submitDonation=function(){var t=$("form[data-url]").data("url");$.ajax({url:t,method:"POST",data:{donation_params:{donation_amount:e.donation_amount(),monthly:e.monthly(),first_name:e.first_name(),last_name:e.last_name(),email_address:e.email_address(),country:e.country(),zip_code:e.zip_code(),comments:e.comments(),anonymous:e.anonymous(),stripe_token:e.stripeToken(),photo_url:e.facebookPhoto()}},dataType:"script"}).fail(function(t){e.errors(t.responseJSON&&t.responseJSON.errors||["Server Error"]),e.isProcessing(!1)})},window.onhashchange=function(){var t=window.location.hash.substring(1)||"one";e.step(t),window.scrollTo(0,0)},this.stripeResponseHandler=function(t,n){if(n.error)e.errors.push(n.error.message),e.isProcessing(!1);else{var i=n.id;e.stripeToken(i),e.submitDonation()}},this.submit=function(){e.isProcessing(!0),e.errors([]);var t=$(".cc-exp").val().split(" / "),n=$.isNumeric(t[0])?t[0]:0,i=$.isNumeric(t[1])?t[1]:0;return Stripe.card.createToken({number:$(".cc-num").val(),cvc:$(".cc-cvc").val(),exp_month:n,exp_year:i,name:$(".cc-name").val(),address_zip:$(".cc-zip-code").val(),address_country:$(".cc-country").val()},e.stripeResponseHandler),!1},this.stepOne={},this.stepOne.errors=ko.validation.group([this.donation_amount,this.first_name,this.last_name,this.email_address,this.country,this.zip_code,this.comments])};$("body").hasClass("campaign_donations")&&ko.applyBindings(new e,$("article").get(0))}(),$(function(){var e=$(window).width();$(window).resize(function(){e=$(window).width()}),$(".campaigns-index").length>0&&(e>740?($(".campaigns-list li .donate a").hide(),barToolTips(),campaignListHover("enable")):($(".campaigns-list li .donate a").show(),campaignListHover("disable")),$(window).resize(function(){e>740?($(".campaigns-list li .donate a").hide(),barToolTips(),campaignListHover("enable")):($(".campaigns-list li .donate a").show(),campaignListHover("disable"))}),campaignHover()),$(".campaigns-show").length>0&&donationMap()});var profileModel=function(){var e=this;this.description=ko.observable(),this.description.wordsRemaining=ko.computed(function(){var e=this.description()||"",t=""===e?0:e.split(" ").length;return 50-t},this),this.specialPrograms=new KOArrayInput,this.awards=new KOArrayInput,this.accreditations=new KOArrayInput,this.budgetSourceFederalGovernment=ko.observable(),this.budgetSourceStateOrLocalGovernment=ko.observable(),this.budgetSourceFoundations=ko.observable(),this.budgetSourceCorporateDonors=ko.observable(),this.budgetSourceIndividualDonors=ko.observable(),this.budgetSourceSpecialEvents=ko.observable(),this.budgetSourceOther=ko.observable(),this.hotlineNumber=ko.observable(),this.totalBudgetAllocation=ko.computed(function(){var t=[Number(e.budgetSourceFederalGovernment()),Number(e.budgetSourceStateOrLocalGovernment()),Number(e.budgetSourceFoundations()),Number(e.budgetSourceCorporateDonors()),Number(e.budgetSourceIndividualDonors()),Number(e.budgetSourceSpecialEvents()),Number(e.budgetSourceOther())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.totalBudgetAllocationValid=ko.computed(function(){return e.totalBudgetAllocation()>100?!1:e.totalBudgetAllocation()>0&&e.totalBudgetAllocation()<100?!1:!0}),this.womenServedLastFiscalYear=ko.observable(),this.childrenServedLastFiscalYear=ko.observable(),this.adultMenServedLastFiscalYear=ko.observable(),this.totalServedLastFiscalYear=ko.computed(function(){var t=[Number(e.womenServedLastFiscalYear()),Number(e.childrenServedLastFiscalYear()),Number(e.adultMenServedLastFiscalYear())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.womenTurnedAwayLastFiscalYear=ko.observable(),this.childrenTurnedAwayLastFiscalYear=ko.observable(),this.adultMenTurnedAwayLastFiscalYear=ko.observable(),this.totalTurnedAwayLastFiscalYear=ko.computed(function(){var t=[Number(e.womenTurnedAwayLastFiscalYear()),Number(e.childrenTurnedAwayLastFiscalYear()),Number(e.adultMenTurnedAwayLastFiscalYear())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.formValid=ko.computed(function(){return e.totalBudgetAllocation()>0&&e.totalBudgetAllocation()<100?!1:e.totalBudgetAllocation()>100?!1:e.description.wordsRemaining()<0?!1:!0}),this.closeFilters=function(){$("body").css("overflow","visible")}};$("[data-model]").each(function(){var modelName=$(this).data("model"),model=eval("new "+modelName+"Model()");ko.applyBindings(model,$(this).get(0))}),$(function(){function e(){$(".recipients .number").text($("ul.emails li").length)}$("body.locations.emails").length>0&&(e(),$form=$(".emails-form"),$(document).on("click",".remove",function(t){removal=$(this).parents("ul").clone(),$(this).parents("li").remove(),0===$("ul.emails li").length&&$("input.empty").prop("disabled",!1),$.ajax({url:$form.attr("action"),type:"POST",data:$form.serialize()}).done(function(){e()}).fail(function(){$("ul.emails").remove(),removal.appendTo($form),$("input.empty").prop("disabled",!0)}),t.preventDefault()}),$(document).on("click",".edit",function(e){$(this).parents("li").find("input").show(),$(this).parents("li").find("button").show(),$(this).parents("li").find("span.email").hide(),$(this).parents("li").find("a.remove").hide(),$(this).parents("li").find("a.edit").hide(),e.preventDefault()}),$(document).on("click","button.save",function(e){var t=$(this);$.ajax({url:$form.attr("action"),type:"POST",data:$form.serialize()}).done(function(){t.parents("li").find("input").hide(),t.parents("li").find("button").hide(),t.parents("li").find("span.email").text(t.parents("li").find("input").val()).show(),t.parents("li").find("a.remove").show(),t.parents("li").find("a.edit").show()}).fail(function(){}),e.preventDefault()}),$("button.add-new-email").on("click",function(t){addition=$('<li><input type="text" name="location[auxiliary_emails][]" value="'+$("input.new-email").val()+'"><button class="save btn btn2">Save</button> <span class="email">'+$("input.new-email").val()+'</span> <a class="remove" href="#"><i class="fa fa-times"></i></a> <a class="edit" href="#"><i class="fa fa-pencil"></i></a></li>').prependTo("ul.emails"),$.ajax({url:$form.attr("action"),type:"POST",data:$form.serialize()}).done(function(){$("input.empty").prop("disabled",!0),e()}).fail(function(){addition.remove()}),t.preventDefault()}))});var subscriptionModel=function(){var e=this;this.isProcessing=ko.observable(!1),this.paymentErrors=ko.observable(),this.stripeToken=ko.observable(),this.step=ko.observable("plan"),this.plan=ko.observable({}),this.hiddenForm=$("form.edit_subscription"),this.stripeResponseHandler=function(t,n){if(n.error)e.paymentErrors(n.error.message),e.isProcessing(!1);else{var i=n.id;e.stripeToken(i),e.submitForm()}},this.submitPaymentForm=function(t){return e.isProcessing(!0),Stripe.card.createToken(t,e.stripeResponseHandler),!1},this.setPlan=function(t){e.plan(t),t.price>0?e.step("payment"):e.step("confirmation")},this.submitForm=function(){e.isProcessing(!0),e.hiddenForm.trigger("submit.rails")},this.step.subscribe(function(){$("html, body").animate({scrollTop:0},"slow")}),this.hiddenForm.on("ajax:error",function(t,n){e.paymentErrors(n.responseText),e.isProcessing(!1)}),this.hiddenForm.on("ajax:success",function(e,t,n,i){var a=i.getResponseHeader("Location");a&&(window.location=a)})};if($("form.edit_subscription").length>0){var sm=new subscriptionModel;ko.applyBindings(sm,$("article").get(0))}var creditCardModel=function(){var e=this;this.isProcessing=ko.observable(!1),this.paymentErrors=ko.observable(),this.stripeToken=ko.observable(),this.stripeResponseHandler=function(t,n){n.error?(e.paymentErrors(n.error.message),e.isProcessing(!1)):(e.stripeToken(n.id),$("#edit_credit_card").get(0).submit())},this.submitPaymentForm=function(t){return e.isProcessing(!0),Stripe.card.createToken(t,e.stripeResponseHandler),!1}};if($("#edit_credit_card").length>0){var ccm=new creditCardModel;ko.applyBindings(ccm,$("article").get(0))}var profileModel=function(){var e=this;this.description=ko.observable(),this.description.wordsRemaining=ko.computed(function(){var e=this.description()||"",t=""===e?0:e.split(" ").length;return 50-t},this),this.specialPrograms=new KOArrayInput,this.awards=new KOArrayInput,this.accreditations=new KOArrayInput,this.budgetSourceFederalGovernment=ko.observable(),this.budgetSourceStateOrLocalGovernment=ko.observable(),this.budgetSourceFoundations=ko.observable(),this.budgetSourceCorporateDonors=ko.observable(),this.budgetSourceIndividualDonors=ko.observable(),this.budgetSourceSpecialEvents=ko.observable(),this.budgetSourceOther=ko.observable(),this.hotlineNumber=ko.observable(),this.totalBudgetAllocation=ko.computed(function(){var t=[Number(e.budgetSourceFederalGovernment()),Number(e.budgetSourceStateOrLocalGovernment()),Number(e.budgetSourceFoundations()),Number(e.budgetSourceCorporateDonors()),Number(e.budgetSourceIndividualDonors()),Number(e.budgetSourceSpecialEvents()),Number(e.budgetSourceOther())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.totalBudgetAllocationValid=ko.computed(function(){return e.totalBudgetAllocation()>100?!1:e.totalBudgetAllocation()>0&&e.totalBudgetAllocation()<100?!1:!0}),this.womenServedLastFiscalYear=ko.observable(),this.childrenServedLastFiscalYear=ko.observable(),this.adultMenServedLastFiscalYear=ko.observable(),this.totalServedLastFiscalYear=ko.computed(function(){var t=[Number(e.womenServedLastFiscalYear()),Number(e.childrenServedLastFiscalYear()),Number(e.adultMenServedLastFiscalYear())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.womenTurnedAwayLastFiscalYear=ko.observable(),this.childrenTurnedAwayLastFiscalYear=ko.observable(),this.adultMenTurnedAwayLastFiscalYear=ko.observable(),this.totalTurnedAwayLastFiscalYear=ko.computed(function(){var t=[Number(e.womenTurnedAwayLastFiscalYear()),Number(e.childrenTurnedAwayLastFiscalYear()),Number(e.adultMenTurnedAwayLastFiscalYear())];return _.reduce(t,function(e,t){return isNaN(t)?e:e+t},0)}),this.formValid=ko.computed(function(){return e.totalBudgetAllocation()>0&&e.totalBudgetAllocation()<100?!1:e.totalBudgetAllocation()>100?!1:e.description.wordsRemaining()<0?!1:!0})},locationClaimModel=function(){var e=this;this.isProcessing=ko.observable(!1),this.paymentErrors=ko.observable(),this.stripeToken=ko.observable(),this.paymentForm=$("#payment_form"),$(".cc-num input").payment("formatCardNumber"),this.stripeResponseHandler=function(t,n){if(n.error)e.paymentErrors(n.error.message),e.isProcessing(!1);else{var i=n.id;e.stripeToken(i),e.paymentForm.get(0).submit()}},this.submitPaymentForm=function(t){return e.isProcessing(!0),Stripe.card.createToken(t,e.stripeResponseHandler),!1}};if($("#payment_form").length>0){var lcm=new locationClaimModel;ko.applyBindings(lcm,$("div.container").get(0))}if($("#profile_form").length>0){var pm=new profileModel;ko.applyBindings(pm,$("div.container").get(0))}$(".hours-fields input.closed-js").each(function(){var e=$(this).parents("tr:first").find(".open-at-js"),t=$(this).parents("tr:first").find(".close-at-js");if($(this).is(":checked")){$(this).parents("tr:first").find("select").parent().addClass("faux-disabled"),$(this).parents("tr:first").find(".all-day-js").prop("checked",!1);var n=$(this).parents("tr:first"),i=$(this).parents(".hours-section:first"),a=n.find(".day-js").val();$(e).val("").change(),$(t).val("").change(),i.find(".day-"+a+"-js .value").empty().append("closed")}$(this).click(function(){var n=$(this).is(":checked");$(e).val("").change(),$(t).val("").change(),$(this).parents("tr:first").find("select").parent().toggleClass("faux-disabled",n),$(this).parents("tr:first").find(".all-day-js").prop("checked",!1),$(e).prop("disabled",!1).prop("readonly",n),$(t).prop("disabled",!1).prop("readonly",n)})}),$(".hours-fields input.all-day-js").each(function(){var e=$(this).parents("tr:first"),t=$(this).parents(".hours-section:first"),n=e.find(".open-at-js"),i=e.find(".close-at-js"),a=e.find(".day-js").val();"0"!=n.val()||"86400"!=i.val()||e.find(".closed-js").is(":checked")||($(this).prop("checked",!0),$(i).parent().addClass("faux-disabled"),$(n).parent().addClass("faux-disabled"),t.find(".day-"+a+"-js .value").empty().append("24 hours")),$(this).click(function(){var e=$(this).is(":checked");$(this).parents("tr:first").find(".closed-js").is(":checked")&&($(n).parent().toggleClass("faux-disabled"),$(i).parent().toggleClass("faux-disabled")),e?($(n).val("0").change().parent().toggleClass("faux-disabled"),$(i).val("86400").change().parent().toggleClass("faux-disabled")):($(n).val("").change().parent().toggleClass("faux-disabled"),$(i).val("").change().parent().toggleClass("faux-disabled")),$(this).parents("tr:first").find(".closed-js").prop("checked",!1).change(),$(n).prop("disabled",!1).prop("readonly",e),$(i).prop("disabled",!1).prop("readonly",e)})}),$(".hours-fields").on("focus",".select.disabled select",function(){return $(this).blur(),!1}),$(".hours-fields input, .hours-fields select, .hours-fields checkbox").each(function(){var e=$(this),t=e.parents("tr:first"),n=e.parents(".hours-section:first");e.change(function(){var e=t.find(".open-at-js").val(),i=t.find(".close-at-js").val(),a=t.find(".closed-js").is(":checked"),o=t.find(".day-js").val();if(e&&i&&!a)if(0==e&&86400==i)n.find(".day-"+o+"-js .value").empty().append("24 hours");else{var r=t.find(".open-at-js option:selected").html(),s=t.find(".close-at-js option:selected").html();n.find(".day-"+o+"-js .value").empty().append(r+" - "+s)}a&&n.find(".day-"+o+"-js .value").empty().append("closed")})}),$(function(){if($(".ds-widgets").length>0){clipboardCopying(),$(".color-picker").colorpicker({format:"hex"}),$(".color-picker input").attr("readonly",!1);var e="#4672ff";$(".color-picker input").val(e),$(".color-picker .add-on i").css("background-color",e),$(".color-picker").colorpicker("setValue",e),$(".colorpicker.dropdown-menu").on("mousedown mouseup",function(){var e=rgb2hex($(".color-picker .add-on i").css("background-color"));$(".color-picker input").val(e),widgetColorize(e),updateGetCode(!0)}),$(".color-picker input").on("input",function(){$(this).val().length>7&&$(this).val($(this).val().substring(0,7)),"#"!=$(this).val().substring(0,1)&&$(this).val("#"+$(this).val().substring(1,$(this).val().length));var e=$(this).val();$(".color-picker .add-on i").css("background-color",e),$(".color-picker").colorpicker("setValue",e),widgetColorize(e),updateGetCode(!0)}),$(".branding-style ul li a").on("click",function(){return $(this).hasClass("custom")?($(this).addClass("active"),$(this).parents("ul").find("li a.ds").removeClass("active"),$(".color-picker").show(),$(".ds-widget .branding, #ds-branding").hide(),widgetColorize($(".color-picker input").val()),updateGetCode(!0)):$(this).hasClass("ds")&&($(this).addClass("active"),$(this).parents("ul").find("li a.custom").removeClass("active"),$(".color-picker").hide(),$(".ds-widget .branding, #ds-branding").show(),widgetColorize(""),updateGetCode(!1)),!1}),$(".options ul li a").on("click",function(){var e;$(this).parents("ul").find("a").removeClass("active");var t=$(this).parents(".widget-container").find(".get-code textarea.widget").val(),n=$(this).parents("li").attr("class"),i=$(".color-picker input").val();return e=$(".branding-style ul li a.custom").hasClass("active")?embedConstructor(t,n,i,!0):embedConstructor(t,n,"",!1),$(this).parents(".widget-container").find(".get-code textarea.widget").val(e),$(this).addClass("active"),!1}),$(".get-code textarea").on("click",function(){$(this).select()}).on("focus",function(){$(this).css("background","white"),$(this).css("color","#7d7d7d")}).on("blur",function(){$(this).css("background",""),$(this).css("color","")}),$(".get-code textarea").on("focus",function(){$(this).css("height","70px")}),$(".get-code textarea").on("blur",function(){$(this).css("height","45px")})}}),$(document).on("click",function(){"undefined"!=typeof lastBubble&&closeBubble(lastBubble)}),$(document).on("mouseenter",".js-bubble",function(){("undefined"==typeof $(this).data("event")||"hover"==$(this).data("event"))&&bubble($(this))}),$(document).on("mouseleave",".js-bubble",function(){("undefined"==typeof $(this).data("event")||"hover"==$(this).data("event"))&&closeBubble($(this))}),$(document).on("click",".js-bubble",function(e){e.stopPropagation()}),$(document).on("click",".js-bubble > .btn",function(e){if(e.stopPropagation(),"click"!==$(this).parent().data("event"))return!1;if(!$(this).hasClass("bubble-event"))return!1;if("undefined"==typeof lastBubble)bubble($(this).parent());else if($(this).parent().hasClass("active")){if($(this).hasClass("bubble-toggle")&&$(this).parent().hasClass("active"))return closeBubble(lastBubble),delete lastBubble,!1}else closeBubble(lastBubble),bubble($(this).parent()),delete lastBubble;lastBubble=$(this).parent()}),$(document).on("click",".js-bubble .close",function(){"undefined"!=typeof lastBubble&&closeBubble(lastBubble)}),$(function(){if($(".location-dashboard").length>0){switch(location.hash.substr(1)){case"since-last-visit":$("div.since-last-visit").show(),$(".filters .since-last-visit").addClass("active");break;case"last-30":$("div.last-30").show(),$(".filters .last-30").addClass("active");break;case"last-90":$("div.last-90").show(),$(".filters .last-90").addClass("active");break;case"last-year":$("div.last-year").show(),$(".filters .last-year").addClass("active");break;case"lifetime":$("div.lifetime").show(),$(".filters .lifetime").addClass("active");break;default:$("div.last-30").show(),$(".filters .last-30").addClass("active")}$(window).on("hashchange",function(){var e=location.hash.substr(1);$("div.table").hide(),$("div."+e).show(),$(".filters a").removeClass("active"),$(".filters ."+e).addClass("active")}),zeroify(),totals(),applyTimify(),sortableTables()}}),$(function(){$(document).on("click","a[data-toggle-visible]",function(){var e=$(this).data("toggle-visible");$(e).toggleClass("active"),$(this).toggleClass("active"),$(e).toggle("slow")}),$(document).on("click","[data-hide-visible]",function(){var e=$(this).data("hide-visible");$(e).removeClass("active"),$(e).hide("slow",function(){$(this).remove()})}),$(document).on("click",".quantity-column .button--variance",function(){var e=$(this);e.toggleClass("active button--has-value")}),$("#show_zero").prop("checked",!1),$(document).on("click",".js-add-product-button",function(){var e=$(this),t=e.hasClass("active");e.prop("disabled",!0);var n=t?"Removing":"Adding",i=t?"addClass":"removeClass",a=t?"Remove":"Add";e.text(n),setTimeout(function(){e.text(a),e[i]("active"),e.prop("disabled",!1)},2e3)}),$(document).ready(function(){var e=$("#product-filters"),t=e.find("#page");$("#pagination").click("a",function(n){n.preventDefault();var i=n.target,a=i.href.split("?")[1].split("=")[1];t.val(a),e.submit()})})}),$("body.users-dashboard").length&&!function(){function e(e){var i=parseInt(e.value)<1,a=$(e),o=a.attr("data-qty-button"),r=$("#qty-button-"+o),s=r.hasClass("button--flash");return!s&&i?(r.addClass("button--flash button--color6"),n(a),void 0):(s&&t(o)&&(r.removeClass("button--flash button--color6"),n(a)),void 0)}function t(e){for(var t=$(".quantity-"+e+" .input-qty"),n=!0,i=0;i<t.length;i++)if(t[i].value<1){n=!1;break}return n}function n(e){var t=$(".button--flash"),n=$(".qty-zero-form");if(t.length){if(!n.hasClass("active"))return n.addClass("active"),void 0;n.find("#show_zero").is(":checked")&&e.on("blur",function(){$("#zero-sort").trigger("submit.rails")})}else if(!t.length&&n.hasClass("active")){n.removeClass("active");var i=n.find("#show_zero");i.is(":checked")&&setTimeout(function(){i.click()},100)}}$(document).on("click",".mfp-promotion .button",function(e){e.preventDefault();var t=$(".mfp-promotion #update-promotion-state");if($(this).hasClass("button--color6")){var n=$(this).attr("href");t.on("ajax:success",function(){window.location=n})}t.trigger("submit.rails")}),$(document).on("click","[data-toggle-class]",function(){var e=$(this),t=e.data("toggle-class");e.toggleClass(t)}),$(document).on("click","[data-toggle-class2]",function(){var e=$(this),t=e.data("toggle-class2");e.toggleClass(t)}),$(document).on("click",".qty-zero-form .form__checkbox--highlighted",function(){var e=($(this),$(".qty-zero-form"));e.toggleClass("show-checkbox")
}),$(document).on("input",".wishlists__table-row .quantity",function(t){e(t.target)})}(),$(function(){function e(e){var t=$(document).width()<768?!0:!1;u[e]=new google.maps.Map(document.getElementById("survey-map"+e),{center:a,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,draggable:!t,styles:r,zoom:3,maxZoom:6,minZoom:2}),h[e]=new google.maps.visualization.HeatmapLayer({data:c[e],radius:25,opacity:.8,gradient:o}),h[e].setMap(u[e])}($(".surveys.index").length>0||$(".surveys.show").length>0)&&$(".survey").not(".survey.has_voted").not(".survey.closed").each(function(){surveySetup($(this))});var t=!1,n=!1,i=!1;if($(".surveys.show").length>0){horizontalBarChart(),"#results"==window.location.hash&&skipper(),$("a.skipped").on("click",function(){return skipper(),!1}),$("ul.tabs a.bar").addClass("selected"),$("#pie").hide(),$("#maps").hide(),$("ul.tabs a").on("click",function(){return $("ul.tabs a").removeClass("selected"),$("#bar, #pie, #maps").hide(),$(this).addClass("selected"),$($(this).attr("href")).show(),"#pie"==$(this).attr("href")?n||(pieChart(),n=!0):"#bar"==$(this).attr("href")&&(t||(horizontalBarChart(),t=!0)),!1});var a=new google.maps.LatLng(45.5,-98.35),o=["rgba(255,255,255,0)","#feb4ed","#f161cf","#b72c97","#951978","#630a4d"],r=[{stylers:[{saturation:-100},{lightness:36}]}],s=$(document).width()<768?!0:!1,l=new google.maps.Map(document.getElementById("survey-map"),{center:a,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,draggable:!s,styles:r,zoom:3,maxZoom:6,minZoom:2});heatMapFullData=heatMapSingleUniquePointChecker("#survey-map");var d=new google.maps.visualization.HeatmapLayer({data:heatMapFullData,radius:25,opacity:.8,gradient:o});d.setMap(l);var c=[],u=[],h=[];$("#maps ul li").each(function(){c[$(this).data("option-id")]=heatMapSingleUniquePointChecker("#survey-map"+$(this).data("option-id"))}),$(".tabs .maps").on("click",function(){i||($("#maps ul li:first-child").addClass("open selected"),$("#maps ul li:first-child .map").show(),e($("#maps ul li:first-child").data("option-id"))),i=!0}),$("#maps ul li .map").hide(),$("#maps ul li .title-bar").on("click",function(){$(this).parent().hasClass("open")||($("#maps ul li").removeClass("open selected"),$(this).parent().addClass("selected"),$("#maps ul li .map").slideUp(),$(this).parent().find(".map").slideDown(400,function(){google.maps.event.trigger(u[$(this).parent().data("option-id")],"resize"),u[$(this).parent().data("option-id")].setCenter(a),$(this).parent().addClass("open")}),e($(this).parent().data("option-id")))}),$("a.skipped").on("click",function(){google.maps.event.trigger(l,"resize"),l.setCenter(a)})}}),function(){var e=function(){var e=this;e.from_name=ko.observable(""),e.subject=ko.pureComputed(function(){var t=e.from_name();return""===t&&(t="[From Name]"),t+" is recommending this for you"})},t=$("#newsletter-signup-send");if(t.length>0){var n=new e;ko.applyBindings(n,t.get(0))}$("#recipients").on("cocoon:after-insert",function(e,t){t.find("input").focus(),$(".remove_fields.dynamic").attr("tabindex","-1")}),$("#recipients a.add_fields").data({"association-insertion-method":"before","association-insertion-node":".add_fields"}),0==$(".errors ul.errors li").length&&$(".errors ul.errors").hide();var i=/^.*@.*\..*$/;$("#new_newsletter_signup_form").on("submit",function(){var e=!1,t=$(this).find(".errors ul.errors");return $(this).find("input[type=text]").removeClass("error"),$(this).find(".required input").each(function(){return t.find("li").remove(),""==$(this).val()?($(this).addClass("error"),t.append("<li>Please fill in both fields.</li>").show(),e=!0,!1):i.test($(this).val())?void 0:($(this).addClass("error"),t.append("<li>Please make sure your email is formatted properly.</li>").show(),e=!0,!1)}),e?!1:$("#newsletter_signup_form_email_address").val()!=$("#newsletter_signup_form_email_address_confirmation").val()?($("#newsletter_signup_form_email_address").addClass("error"),$("newsletter_signup_form_email_address_confirmation").addClass("error"),t.find("li").remove(),t.append("<li>Please make sure both fields match.</li>").show(),!1):!0}),$("#newsletter-signup-send").on("submit",function(){var e=$(this).find(".errors ul.errors");if($(this).find("input[type=text]").removeClass("error"),e.find("li").remove(),""==$("#newsletter_signup_form_from_name").val())return $("#newsletter_signup_form_from_name").addClass("error"),e.append('<li>Please fill in "From Name".</li>').show(),!1;if(""==$("#newsletter_signup_form_recipients_attributes_0_email_address").val())return $("#newsletter_signup_form_recipients_attributes_0_email_address").addClass("error"),e.append("<li>Please add at least one recipient.</li>").show(),!1;var t=!1;return $("#recipients input[type=text]").each(function(){return""==$(this).val()?($(this).addClass("error"),e.append("<li>Please fill in all recipient fields.</li>").show(),t=!0,!1):i.test($(this).val())?void 0:($(this).addClass("error"),e.append("<li>Please make sure your recipient emails are formatted properly.</li>").show(),t=!0,!1)}),!t})}(),function(e,t){function n(t,n){this.jse=t,this.element=e(t),this.options=e.extend({},a,n),this._defaults=a,this._name=i,this.init()}var i="multicolumn",a={columnGap:15,columnCount:"auto",wrapperClass:"column-wrapper",hiddenClass:"mc-hidden",mode:"relative",childSelector:!1};n.prototype={init:function(){this.doColumns(),this.setResizeHandler()},doColumns:function(t){var n=this,i="undefined"==typeof t?this.element:t;i.each(function(){var t,i=e(this);if(t="auto"===n.options.columnCount?i.css("column-count")?i.css("column-count"):i[0].currentStyle.getAttribute("column-count"):n.options.columnCount,!t||2>t)return n.destroy(i),void 0;var a=n.options.columnGap,o=i.prop("tagName"),r=i.attr("class"),s=i.css("margin-left"),l=i.css("margin-right"),d=i.css("margin-bottom"),c=i.css("margin-top"),u=i.css("padding-right"),h=i.css("padding-left"),f=i.css("padding-bottom"),m=i.css("padding-top"),p=i.children(n.options.childSelector),v=Math.ceil(p.length/t),g=i.parent().outerWidth()-(parseInt(h,10)+parseInt(u,10)),b=(g-a*(t-1))/t;"relative"==n.options.mode?(b=b/g*100+"%",a=a/g*100+"%"):(g=Math.floor(g),b=Math.floor(b));for(var y=e('<div class="clearfix '+n.options.wrapperClass+'"></div>').css({"margin-left":s,"margin-right":l,"margin-top":c,"margin-bottom":d,"padding-right":u,"padding-left":h,"padding-top":m,"padding-bottom":f}),w=y.clone(),_=0;t>_;_++){var $=_>0?a:0,k=p.clone(!0),x=parseInt(v*_,10),S=parseInt(x+v,10);k=k.slice(x,S);var D=e("<"+o+"/>").css({display:"block","float":"left",width:b,"margin-right":0,"margin-left":$,padding:0}).attr("class",r);w.append(D.append(k))}i.after(w).hide().addClass(n.options.hiddenClass)})},setResizeHandler:function(){var n=this;e(t).on("orientationchange pageshow resize",n.waitForFinalEvent(function(){var t=n;n.element.each(function(){var n=e(this);t.destroy(n,t.bind(t.doColumns,[n],t))})})).trigger("resize")},waitForFinalEvent:function(e,t){var n,t=t||400;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,Array.prototype.slice.call(a))},t)}},destroy:function(e,t){e.show().removeClass(this.options.hiddenClass),e.next("."+this.options.wrapperClass).remove(),"function"==typeof t&&t.call()},bind:function(e,t,n){return function(){e.apply(n,t)}}},e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i,new n(this,t))})}}(jQuery,window,document),$(function(){$.fn.dsStickyHeaders=function(e){return this.each(function(){var t={classNames:"",headerSelector:null,headerStyles:{},adjustmentCalculator:null,position:"relative",scrollZoneTop:50,scrollZoneBottom:200},n=$.extend({},t,e||{}),i=$(this),a=i.find(n.headerSelector);if(!a.length)return console.log("dsStickyHeaders: No header found for ["+n.headerSelector+"]"),void 0;var o=function(){var e=i.css("position");["absolute","relative"].indexOf(e)>-1||i.css("position","relative")},r=function(e){if(1===e.length)return e;var t=$("<div>",{"class":n.classNames,css:$.extend({position:"relative",top:0,left:0,width:"100%",transition:"top 0.01s ease-out"},n.headerStyles)});return e.each(function(e,n){var i=$(n).clone(),a=n.parentNode,o=$("<"+a.nodeName.toLowerCase()+"/>",{"class":a.className});$(n).css("visibility","hidden"),o.append(i),t.append(o)}),i.prepend(t),t},s=function(e){if(e){var t=i.height(),o=i.width(),r="function"==typeof n.adjustmentCalculator?n.adjustmentCalculator():0;$(window).on("scroll.dsStickyHeader",function(){var e=i[0].offsetTop+r,s=e+t,l=window.pageYOffset,d=l>s-n.scrollZoneBottom,c=l+n.scrollZoneTop>e&&!d;c?"fixed"===n.position?a.css($.extend({width:o,top:0,left:($(window).width()-o)/2},n.headerStyles,{position:"fixed"})):a.css($.extend({position:"relative",width:"100%",top:l-e>0?l-e:0,left:0},n.headerStyles)):d?"fixed"===n.position&&a.css($.extend({position:"relative",width:"100%",top:t-n.scrollZoneBottom,left:0},n.headerStyles)):a.removeAttr("style").css($.extend({position:"relative",top:0,width:"100%"},n.headerStyles))}).trigger("scroll.dsStickyHeader")}else $(window).off("scroll.dsStickyHeader")}.bind(this),l=function(){o(),a=r(a),s(!0),$(window).on("resize.dsStickyHeader",function(){s(!1),s(!0)})};l()})}}),$(document).ready(function(){var e=function(){var e=this.content.find("img");e.css("max-height",.8*parseFloat(e.css("max-height")))};$(".slideshow-launcher").magnificPopup({delegate:".slideshow-launcher__image-link",type:"image",tLoading:"Loading image #%curr%...",mainClass:"slideshow-modal",gallery:{enabled:!0,navigateByImgClick:!0,tCounter:"(%curr% of %total%)",preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(e){return e.el.attr("data-title")||""}},callbacks:{resize:e,change:e},fixedContentPos:!0,fixedBgPos:!0})}),$(function(){if($(".memes.show, .videos.show").length>0){var e=location.protocol+"//"+location.host+location.pathname;getAddThisShares(e),getFacebookLikes(e)}if($(".memes.index, .memes.filtered").length>0){var e=window.location.href;$("#meme-order").on("change",function(){var t=URI(e).removeSearch("order").addSearch("order",$(this).val());location.href=t});{new Waypoint.Infinite({element:$(".memes-meme")[0],items:".media_block_list_item"})}}}),$.fn.exclusiveCheckboxes=function(){var e=this.find("[data-exclusive]");return this.on("click","[data-exclusive]",function(){var t=$(this).is(":checked"),n=$(this).data("exclusive");t&&e.each(function(){var e=$(this).data("exclusive");e!=n&&$(this).prop("checked",!1)})}),this},Popup=function(){function e(){$.each(d,function(e,t){if(""!=$("[data-mfp='"+e+"']").attr("data-mfpClass"))switch(t.mainClass=$("[data-mfp='"+e+"']").attr("data-mfpClass"),e){case"promotion":t.mainClass+=" mfp-promotion";break;case"wishlist":t.mainClass+=" mfp-wishlist";break;case"video":t.mainClass+=" mfp-video"}"video"===e&&o(function(){r=r||window.location.hash,window.history.pushState(null,"",l),window.location.hash=r}),t.callbacks={ajaxContentAdded:function(){var t=$(".add-new-product-modal");t.length&&t.removeClass("add-new-product-modal");var n=$("[data-wishlists-add-new]");if(n.length){var i=n.parent();i.addClass("add-new-product-modal"),i.closest(".mfp-wrap").addClass("cart-modal")}if($(".cart-modal").length&&$(document).trigger("cart-modal-ready"),"video"===e){var a=$("[data-push-state]");if(a.length){r=r||window.location.hash;var o=a.attr("data-push-state")+r;window.history.pushState(null,"",o),window.location.hash=r}}},close:s.fire},$("[data-mfp='"+e+"']").magnificPopup(t)})}function t(){e(),$(document).on("click",".close-mfp-js",i),$(document).bind("ajaxComplete",n)}function n(){e()}function i(e){e.preventDefault(),$.magnificPopup.close()}function a(e,t){var n=$.extend({},d[e],{items:{src:t}});$.magnificPopup.open(n)}function o(e){s.add(e)}var r,s=$.Callbacks(),l=location.protocol+"//"+location.host+location.pathname,d={basic:{type:"inline",fixedContentPos:!0,fixedBgPos:!0},closeless:{type:"inline",fixedContentPos:!0,fixedBgPos:!0,showCloseBtn:!1,closeBtnInside:!1},closelessAlert:{type:"inline",fixedContentPos:!0,fixedBgPos:!0,showCloseBtn:!1,closeBtnInside:!1,closeOnBgClick:!1,enableEscapeKey:!1},image:{type:"image"},ajax:{type:"ajax"},video:{type:"ajax"},promotion:{type:"ajax",fixedContentPos:!0,fixedBgPos:!0,showCloseBtn:!1,closeBtnInside:!1,closeOnBgClick:!1,enableEscapeKey:!1,removalDelay:600},youtube:{disableOn:700,type:"iframe",mainClass:"mfp-fade mfp-video",removalDelay:160,preloader:!1,fixedContentPos:!1},wishlist:{type:"inline",fixedContentPos:!0,fixedBgPos:!0}};return{setupListeners:t,rebind:n,close:i,open:a,addCloseCallback:o}}(),function(){function e(e,t){return isNaN(parseInt(t))?(e.val(1),!1):!0}function t(e,t){var n=e.data("max");return t>n?e.hasClass("error")?!1:(e.addClass("error"),bubble(e.parent().addClass("js-bubble")),!1):(e.hasClass("error")&&(closeBubble(e.parent()),e.removeClass("error")),!0)}function n(e,t){return"BUTTON"===e.prop("tagName")?(e.attr("disabled",t),void 0):(method=t?"addClass":"removeClass",e[method]("disabled"),void 0)}$(document).on("change",".js-on-quantity-change",function(n){var i=$(n.target),a=i.val();e(i,a)&&t(i,a)!==!1&&i.trigger("submit.rails")}),$(document).on("input",".js-validate-max-quantity-on-change",function(i){var a=$(i.target),o=a.val(),r=!1,s=a.attr("data-siblings"),l=a.attr("data-submit");e(a,o)&&($buttons=a.attr("data-target")?$(a.attr("data-target")):a.closest("form").find("button"),t(a,o)===!1&&(r=!0),!r&&s&&$(s).each(function(){var e=$(this);return t(e,e.val())===!1?(r=!0,!1):void 0}),$buttons.each(function(e,t){var i=$(t);n(i,r)}),l&&a.closest("form").trigger("submit.rails"))})}(),function(){var e=$("[data-handle-summary-visibility]"),t=e.parent();e.click(function(){t.toggleClass("active")})}(),$("body.wishlist_carts").length&&$(function(){function e(e,n){n.error?(t(n.error),$.rails.enableFormElements(a),o.removeClass("disabled")):(a.find("#wishlists_checkout_form_stripe_token").val(n.id),a.get(0).submit())}function t(e){switch(e.type){case"invalid_request_error":i("Payment could not be processed. Please check your info and try again");break;case"card_error":var t=$.Event("stripe-error");t.stripeCode=e.code,a.trigger(t)}}function n(e){var t;switch(e){case"card_declined":$(".cc-num").addClass("error"),$(".cc-exp").addClass("error"),$(".cc-cvc").addClass("error");break;case"invalid_zip":t="Invalid card zipcode",$(".cc-zip").addClass("error");break;case"invalid_number":case"incorrect_number":t="Invalid card number",$(".cc-num").addClass("error");break;case"invalid_expiry_month":case"invalid_expiry_year":case"expired_card":t="Invalid card expiry",$(".cc-exp").addClass("error");break;case"invalid_cvc":case"incorrect_cvc":t="Invalid card ccv",$(".cc-cvc").addClass("error")}t&&i(t)}function i(e){var t=r.find("ul");$("<li/>").text(e).appendTo(t),r.addClass("active")}var a=$("#new_wishlists_checkout_form"),o=a.find(".btn-fullwide");a.on("stripe-error",function(e){n(e.stripeCode)});var r=$("#payment-errors");$(window).on("load",function(){r.find("li").each(function(e,t){var i=$(t).attr("data-stripe-code");n(i)})}),$("input.cc-num").payment("formatCardNumber"),$("input.cc-exp").payment("formatCardExpiry"),a.submit(function(t){t.preventDefault(),$.rails.disableFormElements(a),o.addClass("disabled"),a.find(".error").removeClass("error"),r.removeClass("active"),r.find("ul").empty();var n=$(".cc-exp").val().split(" / "),i=$.isNumeric(n[0])?n[0]:0,s=$.isNumeric(n[1])?n[1]:0;Stripe.card.createToken({number:$(".cc-num").val(),cvc:$(".cc-cvc").val(),exp_month:i,exp_year:s,name:$(".cc-name").val(),address_zip:$(".cc-zip").val(),address_country:$(".cc-country").val()},e)}),$("#wishlists_checkout_form_donation_amount_in_dollars").val("5").trigger("change"),$(".donation-button").not(".donate-custom").on("click",function(e){e.preventDefault();var t=$("#wishlists_checkout_form_donation_amount_in_dollars"),n=$(this).data("amount");t.val(n).trigger("change"),$(".donation-amount").hide(),$(".donation-button").removeClass("btn3").addClass("btn1"),$(this).addClass("btn3").removeClass("btn1")}),$(".donate-custom").on("click",function(e){e.preventDefault();var t=$("#wishlists_checkout_form_donation_amount_in_dollars"),n=$(this).data("amount");t.val(n).trigger("change"),$(".donation-amount").show(),$(".donation-button").removeClass("btn3").addClass("btn1"),$(this).addClass("btn3").removeClass("btn1")});var s=1024;$(window).on("resize",function(){this.outerWidth<s?$(".order-summary").unstick():$(".order-summary").sticky({topSpacing:30,bottomSpacing:658})}).resize()}),$("body.wishlists.index").length&&function(){function e(e,t){marker=new google.maps.Marker({position:new google.maps.LatLng(e,t),map:n,icon:o}),marker.setCursor("default")}function t(){var t=i.data("donors-path");$.getJSON(t,function(t){_.forEach(t.donors,function(t){e(t.latitude,t.longitude)})})}var n,i,a,o,r;a={styles:[{stylers:[{saturation:-100},{lightness:36}]}],center:new google.maps.LatLng(39.8282,-98.5795),zoom:5,disableDefaultUI:!0,draggable:!1,zoomControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0},i=$("#map"),n=new google.maps.Map(i.get(0),a),r=i.data("map-marker"),o=new google.maps.MarkerImage(r,null,null,null,new google.maps.Size(26,26)),t()}(),$(document).on("cart-modal-ready",function(){var e=$(".wishlists__cart-table");if(e.length){var t=window.innerHeight;t>$(".cart-modal .cart-modal").height()&&$(".mfp-wrap.cart-modal").addClass("cart-modal--tall")}});var handleDelayFormSubmitOnChange=function(e){var t=$(e);t.length&&t.each(function(e,t){var n=$(t),i=n.find("[data-delay]"),a=function(){n.trigger("submit.rails")};i&&(a=_.debounce(function(){n.trigger("submit.rails")},parseInt(i.attr("data-delay")))),n.on("change input",function(e){var t=$(e.target),n=$(this);return t.is(":text")?("change"!==e.type&&a(),void 0):(n.trigger("submit.rails"),void 0)})})};handleDelayFormSubmitOnChange(".js-submit-filter-on-change"),!function(e){var t=function(t){var n=this;t=t||{},"string"==typeof t&&(t={elements:t}),this.sel=null,this.textSelection="",this.htmlSelection="",this.appId=e('meta[property="fb:app_id"]').attr("content")||e('meta[property="fb:app_id"]').attr("value"),this.url2share=e('meta[property="og:url"]').attr("content")||e('meta[property="og:url"]').attr("value")||window.location.href,this.getSelectionText=function(e){var t="",i="";if(e=e||window.getSelection(),e.rangeCount){for(var a=document.createElement("div"),o=0,r=e.rangeCount;r>o;++o)a.appendChild(e.getRangeAt(o).cloneContents());i=a.textContent,t=a.innerHTML}return n.textSelection=i,n.htmlSelection=t||i,i},this.selectionDirection=function(e){var t=e||window.getSelection(),n=document.createRange();if(!t.anchorNode)return 0;n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);var i=n.collapsed?"backward":"forward";return n.detach(),i},this.showPopunder=function(){n.popunder=n.popunder||document.getElementById("selectionSharerPopunder");var e=window.getSelection(),t=n.getSelectionText(e);if(e.isCollapsed||t.length<10||!t.match(/ /))return n.hidePopunder();if(n.popunder.classList.contains("fixed"))return n.popunder.style.bottom=0,n.popunder.style.bottom;var i=e.getRangeAt(0),a=i.endContainer.parentNode;if(n.popunder.classList.contains("show")){if(Math.ceil(n.popunder.getBoundingClientRect().top)==Math.ceil(a.getBoundingClientRect().bottom))return;return n.hidePopunder(n.showPopunder)}if(a.nextElementSibling)n.pushSiblings(a);else{n.placeholder||(n.placeholder=document.createElement("div"),n.placeholder.className="selectionSharerPlaceholder");var o=window.getComputedStyle(a).marginBottom;n.placeholder.style.height=o,n.placeholder.style.marginBottom=-2*parseInt(o,10)+"px",a.parentNode.insertBefore(n.placeholder)}var r=window.pageYOffset+a.getBoundingClientRect().bottom;n.popunder.style.top=Math.ceil(r)+"px",setTimeout(function(){n.placeholder&&n.placeholder.classList.add("show"),n.popunder.classList.add("show")},0)},this.pushSiblings=function(e){for(;e=e.nextElementSibling;)e.classList.add("selectionSharer"),e.classList.add("moveDown")},this.hidePopunder=function(e){if(e=e||function(){},"fixed"==n.popunder)return n.popunder.style.bottom="-50px",e();n.popunder.classList.remove("show"),n.placeholder&&n.placeholder.classList.remove("show");for(var t=document.getElementsByClassName("moveDown");el=t[0];)el.classList.remove("moveDown");setTimeout(function(){n.placeholder&&document.body.insertBefore(n.placeholder),e()},600)},this.show=function(e){setTimeout(function(){var t=window.getSelection(),i=n.getSelectionText(t);if(!t.isCollapsed&&i&&i.length>10&&i.match(/ /)){var a=t.getRangeAt(0),o=a.getBoundingClientRect().top-5,r=o+n.getPosition().y-n.$popover.height(),s=0;if(e)s=e.pageX-90;else{var l=t.anchorNode.parentNode;s+=l.offsetWidth/2}switch(n.selectionDirection(t)){case"forward":break;case"backward":break;default:return}n.$popover.removeClass("anim").css("top",r+10).css("left",s).show(),setTimeout(function(){n.$popover.addClass("anim").css("top",r)},0)}},10)},this.hide=function(){n.$popover.hide()},this.smart_truncate=function(e,t){if(!e||!e.length)return e;var n=e.length>t,i=n?e.substr(0,t-1):e;return i=n?i.substr(0,i.lastIndexOf(" ")):i,n?i+"...":i},this.getRelatedTwitterAccounts=function(){var t=[],n=e('meta[name="twitter:creator"]').attr("content")||e('meta[name="twitter:creator"]').attr("value");n&&t.push(n);for(var i=document.getElementsByTagName("a"),a=0,o=i.length;o>a;a++)if(i[a].attributes.href&&"string"==typeof i[a].attributes.href.value){var r=i[a].attributes.href.value.match(/^https?:\/\/twitter\.com\/([a-z0-9_]{1,20})/i);r&&r.length>1&&-1==["widgets","intent"].indexOf(r[1])&&t.push(r[1])}return t.length>0?t.join(","):""},this.shareTwitter=function(e){e.preventDefault();var t=""+n.smart_truncate(n.textSelection.trim(),114)+"",i="http://twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&related="+n.relatedTwitterAccounts+"&url="+encodeURIComponent(window.location.href);n.viaTwitterAccount&&t.length<114-n.viaTwitterAccount.length&&(i+="&via="+n.viaTwitterAccount);var a=640,o=440,r=screen.width/2-a/2,s=screen.height/2-o/2-100;return window.open(i,"share_twitter","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+o+", top="+s+", left="+r),n.hide(),!1},this.shareFacebook=function(e){e.preventDefault();var t=n.htmlSelection.replace(/<p[^>]*>/gi,"\n").replace(/<\/p>|  /gi,"").trim(),i="https://www.facebook.com/dialog/feed?app_id="+n.appId+"&display=popup&caption="+encodeURIComponent(t)+"&link="+encodeURIComponent(n.url2share)+"&href="+encodeURIComponent(n.url2share)+"&redirect_uri="+encodeURIComponent(n.url2share),a=640,o=440,r=screen.width/2-a/2,s=screen.height/2-o/2-100;window.open(i,"share_facebook","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+a+", height="+o+", top="+s+", left="+r)},this.shareEmail=function(){var t=n.textSelection.replace(/<p[^>]*>/gi,"\n").replace(/<\/p>|  /gi,"").trim(),i={};return i.subject=encodeURIComponent("Quote from "+document.title),i.body=encodeURIComponent(""+t+"")+"%0D%0A%0D%0AFrom: "+document.title+"%0D%0A"+window.location.href,e(this).attr("href","mailto:?subject="+i.subject+"&body="+i.body),n.hide(),!0},this.render=function(){var t='<div class="selectionSharer" id="selectionSharerPopover" style="position:absolute;">  <div id="selectionSharerPopover-inner">    <ul>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Share Selected Text</a></li>          </ul>  </div>  <div class="selectionSharerPopover-clip"><span class="selectionSharerPopover-arrow"></span></div></div>',i='<div id="selectionSharerPopunder" class="selectionSharer">  <div id="selectionSharerPopunder-inner">    <label>Share this selection</label>    <ul>      <li><a class="action tweet" href="" title="Share this selection on Twitter" target="_blank">Tweet</a></li>      <li><a class="action facebook" href="" title="Share this selection on Facebook" target="_blank">Facebook</a></li>      <li><a class="action email" href="" title="Share this selection by email" target="_blank"><svg width="20" height="20"><path stroke="%23FFF" stroke-width="6" d="m16,25h82v60H16zl37,37q4,3 8,0l37-37M16,85l30-30m22,0 30,30"/></svg></a></li>    </ul>  </div></div>';n.$popover=e(t),n.$popover.find("a.tweet").click(n.shareTwitter),n.$popover.find("a.facebook").click(n.shareFacebook),n.$popover.find("a.email").click(n.shareEmail),e("body").append(n.$popover),n.$popunder=e(i),n.$popunder.find("a.tweet").click(n.shareTwitter),n.$popunder.find("a.facebook").click(n.shareFacebook),n.$popunder.find("a.email").click(n.shareEmail),e("body").append(n.$popunder),n.appId&&n.url2share&&e(".selectionSharer a.facebook").css("display","inline-block")},this.setElements=function(t){"string"==typeof t&&(t=e(t)),n.$elements=t instanceof e?t:e(t),n.$elements.mouseup(n.show).mousedown(n.hide).addClass("selectionShareable"),n.$elements.bind("touchstart",function(){n.isMobile=!0}),document.onselectionchange=n.selectionChanged},this.selectionChanged=function(e){n.isMobile&&(n.lastSelectionChanged&&clearTimeout(n.lastSelectionChanged),n.lastSelectionChanged=setTimeout(function(){n.showPopunder(e)},300))},this.getPosition=function(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),n=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,i=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:i}},this.render(),t.elements&&this.setElements(t.elements)};e.fn.selectionSharer=function(){var e=new t;return e.setElements(this),this},"function"==typeof define?define(function(){return t.load=function(e,n,i){var a=new t;a.setElements("p"),i()},t}):window.SelectionSharer=t}(jQuery),$(function(){if($(".videos.index").length||$(".videos.show").length){var e="https://www.youtube.com/iframe_api",t=$('script[src="'+e+'"]');if(!t.length){var t=document.createElement("script");t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}}}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return ya.apply(null,arguments)}function t(e){ya=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return yn(e,t,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=h()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=_a.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function p(e){var t=u(0/0);return null!=e?c(f(t),e):f(t).userInvalidated=!0,t}function v(e,t){var n,i,a;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),$a.length>0)for(n=0;n<$a.length;n++)i=$a[n],a=t[i],o(a)||(e[i]=a);return e}function g(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),this.isValid()||(this._d=new Date(0/0)),ka===!1&&(ka=!0,e.updateOffset(this),ka=!1)}function b(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function _(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&r++;return r+o}function $(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,n){var i=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var a,o=[],r=0;r<arguments.length;r++){if(a="","object"==typeof arguments[r]){a+="\n["+r+"] ";for(var s in arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[r];o.push(a)}$(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),xa[t]||($(n),xa[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,a=c({},e);for(n in t)d(t,n)&&(i(e[n])&&i(t[n])?(a[n]={},c(a[n],e[n]),c(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)d(e,n)&&!d(t,n)&&i(e[n])&&(a[n]=c({},a[n]));return a}function M(e){null!=e&&this.set(e)}function T(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return S(i)?i.call(t,n):i}function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function O(){return this._invalidDate}function P(e){return this._ordinal.replace("%d",e)}function I(e,t,n,i){var a=this._relativeTime[n];return S(a)?a(e,t,n,i):a.replace(/%d/i,e)}function L(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function E(e,t){var n=e.toLowerCase();La[n]=La[n+"s"]=La[t]=e}function R(e){return"string"==typeof e?La[e]||La[e.toLowerCase()]:void 0}function F(e){var t,n,i={};for(n in e)d(e,n)&&(t=R(n),t&&(i[t]=e[n]));return i}function N(e,t){Ea[e]=t}function A(e){var t=[];for(var n in e)t.push({unit:n,priority:Ea[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(t,n){return function(i){return null!=i?(U(this,t,i),e.updateOffset(this,n),this):W(this,t)}}function W(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function U(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function z(e){return e=R(e),S(this[e])?this[e]():this}function B(e,t){if("object"==typeof e){e=F(e);for(var n=A(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=R(e),S(this[e]))return this[e](t);return this}function H(e,t,n){var i=""+Math.abs(e),a=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function V(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Aa[e]=a),t&&(Aa[t[0]]=function(){return H(a.apply(this,arguments),t[1],t[2])}),n&&(Aa[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,i=e.match(Ra);for(t=0,n=i.length;n>t;t++)i[t]=Aa[i[t]]?Aa[i[t]]:G(i[t]);return function(t){var a,o="";for(a=0;n>a;a++)o+=S(i[a])?i[a].call(t,e):i[a];return o}}function Z(e,t){return e.isValid()?(t=J(t,e.localeData()),Na[t]=Na[t]||q(t),Na[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Fa.lastIndex=0;i>=0&&Fa.test(e);)e=e.replace(Fa,n),Fa.lastIndex=0,i-=1;return e}function K(e,t,n){io[e]=S(t)?t:function(e){return e&&n?n:t}}function Q(e,t){return d(io,e)?io[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return et(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function et(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)ao[e[n]]=i}function nt(e,t){tt(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)
})}function it(e,t,n){null!=t&&d(ao,e)&&ao[e](t,n._a,n,e)}function at(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ot(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||vo).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function rt(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[vo.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=po.call(this._shortMonthsParse,r),-1!==a?a:null):(a=po.call(this._longMonthsParse,r),-1!==a?a:null):"MMM"===t?(a=po.call(this._shortMonthsParse,r),-1!==a?a:(a=po.call(this._longMonthsParse,r),-1!==a?a:null)):(a=po.call(this._longMonthsParse,r),-1!==a?a:(a=po.call(this._shortMonthsParse,r),-1!==a?a:null))}function lt(e,t,n){var i,a,o;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function dt(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),at(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(t){return null!=t?(dt(this,t),e.updateOffset(this,!0),this):W(this,"Month")}function ut(){return at(this.year(),this.month())}function ht(e){return this._monthsParseExact?(d(this,"_monthsRegex")||mt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=yo),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(d(this,"_monthsRegex")||mt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=wo),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function mt(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;12>t;t++)i[t]=et(i[t]),a[t]=et(a[t]);for(t=0;24>t;t++)o[t]=et(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function pt(e){return vt(e)?366:365}function vt(e){return e%4===0&&e%100!==0||e%400===0}function gt(){return vt(this.year())}function bt(e,t,n,i,a,o,r){var s=new Date(e,t,n,i,a,o,r);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function yt(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function wt(e,t,n){var i=7+t-n,a=(7+yt(e,0,i).getUTCDay()-t)%7;return-a+i-1}function _t(e,t,n,i,a){var o,r,s=(7+n-i)%7,l=wt(e,i,a),d=1+7*(t-1)+s+l;return 0>=d?(o=e-1,r=pt(o)+d):d>pt(e)?(o=e+1,r=d-pt(e)):(o=e,r=d),{year:o,dayOfYear:r}}function $t(e,t,n){var i,a,o=wt(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>r?(a=e.year()-1,i=r+kt(a,t,n)):r>kt(e.year(),t,n)?(i=r-kt(e.year(),t,n),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function kt(e,t,n){var i=wt(e,t,n),a=wt(e+1,t,n);return(pt(e)-i+a)/7}function xt(e){return $t(e,this._week.dow,this._week.doy).week}function St(){return this._week.dow}function Dt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Mt(e){var t=$t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Yt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Pt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function It(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Lt(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=po.call(this._weekdaysParse,r),-1!==a?a:null):"ddd"===t?(a=po.call(this._shortWeekdaysParse,r),-1!==a?a:null):(a=po.call(this._minWeekdaysParse,r),-1!==a?a:null):"dddd"===t?(a=po.call(this._weekdaysParse,r),-1!==a?a:(a=po.call(this._shortWeekdaysParse,r),-1!==a?a:(a=po.call(this._minWeekdaysParse,r),-1!==a?a:null))):"ddd"===t?(a=po.call(this._shortWeekdaysParse,r),-1!==a?a:(a=po.call(this._weekdaysParse,r),-1!==a?a:(a=po.call(this._minWeekdaysParse,r),-1!==a?a:null))):(a=po.call(this._minWeekdaysParse,r),-1!==a?a:(a=po.call(this._weekdaysParse,r),-1!==a?a:(a=po.call(this._shortWeekdaysParse,r),-1!==a?a:null)))}function Et(e,t,n){var i,a,o;if(this._weekdaysParseExact)return Lt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(a=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Rt(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Ft(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Nt(e){if(!this.isValid())return null!=e?this:0/0;if(null!=e){var t=Yt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function At(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Do),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Co),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ut.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mo),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ut(){function e(e,t){return t.length-e.length}var t,n,i,a,o,r=[],s=[],l=[],d=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),s.push(a),l.push(o),d.push(i),d.push(a),d.push(o);for(r.sort(e),s.sort(e),l.sort(e),d.sort(e),t=0;7>t;t++)s[t]=et(s[t]),l[t]=et(l[t]),d[t]=et(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function zt(){return this.hours()%12||12}function Bt(){return this.hours()||24}function Ht(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vt(e,t){return t._meridiemParse}function Gt(e){return"p"===(e+"").toLowerCase().charAt(0)}function qt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Zt(e){return e?e.toLowerCase().replace("_","-"):e}function Jt(e){for(var t,n,i,a,o=0;o<e.length;){for(a=Zt(e[o]).split("-"),t=a.length,n=Zt(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Kt(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(a,n,!0)>=t-1)break;t--}o++}return null}function Kt(e){var t=null;if(!Io[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=To._abbr,require("./locale/"+e),Qt(t)}catch(e){}return Io[e]}function Qt(e,t){var n;return e&&(n=o(t)?tn(e):Xt(e,t),n&&(To=n)),To._abbr}function Xt(e,t){if(null!==t){var n=Po;if(t.abbr=e,null!=Io[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Io[e]._config;else if(null!=t.parentLocale){if(null==Io[t.parentLocale])return Lo[t.parentLocale]||(Lo[t.parentLocale]=[]),Lo[t.parentLocale].push({name:e,config:t}),null;n=Io[t.parentLocale]._config}return Io[e]=new M(C(n,t)),Lo[e]&&Lo[e].forEach(function(e){Xt(e.name,e.config)}),Qt(e),Io[e]}return delete Io[e],null}function en(e,t){if(null!=t){var n,i=Po;null!=Io[e]&&(i=Io[e]._config),t=C(i,t),n=new M(t),n.parentLocale=Io[e],Io[e]=n,Qt(e)}else null!=Io[e]&&(null!=Io[e].parentLocale?Io[e]=Io[e].parentLocale:null!=Io[e]&&delete Io[e]);return Io[e]}function tn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return To;if(!n(e)){if(t=Kt(e))return t;e=[e]}return Jt(e)}function nn(){return Ca(Io)}function an(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ro]<0||n[ro]>11?ro:n[so]<1||n[so]>at(n[oo],n[ro])?so:n[lo]<0||n[lo]>24||24===n[lo]&&(0!==n[co]||0!==n[uo]||0!==n[ho])?lo:n[co]<0||n[co]>59?co:n[uo]<0||n[uo]>59?uo:n[ho]<0||n[ho]>999?ho:-1,f(e)._overflowDayOfYear&&(oo>t||t>so)&&(t=so),f(e)._overflowWeeks&&-1===t&&(t=fo),f(e)._overflowWeekday&&-1===t&&(t=mo),f(e).overflow=t),e}function on(e){var t,n,i,a,o,r,s=e._i,l=Eo.exec(s)||Ro.exec(s);if(l){for(f(e).iso=!0,t=0,n=No.length;n>t;t++)if(No[t][1].exec(l[1])){a=No[t][0],i=No[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ao.length;n>t;t++)if(Ao[t][1].exec(l[3])){o=(l[2]||" ")+Ao[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Fo.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=a+(o||"")+(r||""),hn(e)}else e._isValid=!1}function rn(e){var t,n,i,a,o,r,s,l,d={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Wo.exec(t)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",a="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var u=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];if(n[1].substr(0,3)!==h)return f(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===l?s=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,s=(0>l?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=d[n[5]];break;default:s=d[" GMT"]}n[5]=s,e._i=n.splice(1).join(""),r=" ZZ",e._f=i+a+o+r,hn(e),f(e).rfc2822=!0}else e._isValid=!1}function sn(t){var n=jo.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(on(t),void(t._isValid===!1&&(delete t._isValid,rn(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function ln(e,t,n){return null!=e?e:null!=t?t:n}function dn(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function cn(e){var t,n,i,a,o=[];if(!e._d){for(i=dn(e),e._w&&null==e._a[so]&&null==e._a[ro]&&un(e),null!=e._dayOfYear&&(a=ln(e._a[oo],i[oo]),(e._dayOfYear>pt(a)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=yt(a,0,e._dayOfYear),e._a[ro]=n.getUTCMonth(),e._a[so]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lo]&&0===e._a[co]&&0===e._a[uo]&&0===e._a[ho]&&(e._nextDay=!0,e._a[lo]=0),e._d=(e._useUTC?yt:bt).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lo]=24)}}function un(e){var t,n,i,a,o,r,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,r=4,n=ln(t.GG,e._a[oo],$t(wn(),1,4).year),i=ln(t.W,1),a=ln(t.E,1),(1>a||a>7)&&(l=!0);else{o=e._locale._week.dow,r=e._locale._week.doy;var d=$t(wn(),o,r);n=ln(t.gg,e._a[oo],d.year),i=ln(t.w,d.week),null!=t.d?(a=t.d,(0>a||a>6)&&(l=!0)):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o}1>i||i>kt(n,o,r)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=_t(n,i,a,o,r),e._a[oo]=s.year,e._dayOfYear=s.dayOfYear)}function hn(t){if(t._f===e.ISO_8601)return void on(t);if(t._f===e.RFC_2822)return void rn(t);t._a=[],f(t).empty=!0;var n,i,a,o,r,s=""+t._i,l=s.length,d=0;for(a=J(t._f,t._locale).match(Ra)||[],n=0;n<a.length;n++)o=a[n],i=(s.match(Q(o,t))||[])[0],i&&(r=s.substr(0,s.indexOf(i)),r.length>0&&f(t).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),d+=i.length),Aa[o]?(i?f(t).empty=!1:f(t).unusedTokens.push(o),it(o,i,t)):t._strict&&!i&&f(t).unusedTokens.push(o);f(t).charsLeftOver=l-d,s.length>0&&f(t).unusedInput.push(s),t._a[lo]<=12&&f(t).bigHour===!0&&t._a[lo]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[lo]=fn(t._locale,t._a[lo],t._meridiem),cn(t),an(t)}function fn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function mn(e){var t,n,i,a,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(0/0));for(a=0;a<e._f.length;a++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],hn(t),m(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==i||i>o)&&(i=o,n=t));c(e,n||t)}function pn(e){if(!e._d){var t=F(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),cn(e)}}function vn(e){var t=new g(an(gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gn(e){var t=e._i,i=e._f;return e._locale=e._locale||tn(e._l),null===t||void 0===i&&""===t?p({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),b(t)?new g(an(t)):(s(t)?e._d=t:n(i)?mn(e):i?hn(e):bn(e),m(e)||(e._d=null),e))}function bn(t){var a=t._i;o(a)?t._d=new Date(e.now()):s(a)?t._d=new Date(a.valueOf()):"string"==typeof a?sn(t):n(a)?(t._a=l(a.slice(0),function(e){return parseInt(e,10)}),cn(t)):i(a)?pn(t):r(a)?t._d=new Date(a):e.createFromInputFallback(t)}function yn(e,t,o,r,s){var l={};return o!==!0&&o!==!1||(r=o,o=void 0),(i(e)&&a(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=r,vn(l)}function wn(e,t,n,i){return yn(e,t,n,i,!1)}function _n(e,t){var i,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return wn();for(i=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](i)||(i=t[a]);return i}function $n(){var e=[].slice.call(arguments,0);return _n("isBefore",e)}function kn(){var e=[].slice.call(arguments,0);return _n("isAfter",e)}function xn(e){for(var t in e)if(-1===Ho.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Ho.length;++i)if(e[Ho[i]]){if(n)return!1;parseFloat(e[Ho[i]])!==w(e[Ho[i]])&&(n=!0)}return!0}function Sn(){return this._isValid}function Dn(){return Hn(0/0)}function Cn(e){var t=F(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=xn(t),this._milliseconds=+c+1e3*d+6e4*l+1e3*s*60*60,this._days=+r+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=tn(),this._bubble()}function Mn(e){return e instanceof Cn}function Tn(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Yn(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function On(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],a=(i+"").match(Vo)||["-",0,0],o=+(60*a[1])+w(a[2]);return 0===o?0:"+"===a[0]?o:-o}function Pn(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(b(t)||s(t)?t.valueOf():wn(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),e.updateOffset(i,!1),i):wn(t).local()}function In(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ln(t,n,i){var a,o=this._offset||0;if(!this.isValid())return null!=t?this:0/0;if(null!=t){if("string"==typeof t){if(t=On(eo,t),null===t)return this}else Math.abs(t)<16&&!i&&(t=60*t);return!this._isUTC&&n&&(a=In(this)),this._offset=t,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==t&&(!n||this._changeInProgress?Jn(this,Hn(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:In(this)}function En(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Rn(e){return this.utcOffset(0,e)}function Fn(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(In(this),"m")),this}function Nn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=On(Xa,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function An(e){return!!this.isValid()&&(e=e?wn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function jn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wn(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=gn(e),e._a){var t=e._isUTC?u(e._a):wn(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Un(){return!!this.isValid()&&!this._isUTC}function zn(){return!!this.isValid()&&this._isUTC}function Bn(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Hn(e,t){var n,i,a,o=e,s=null;return Mn(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Go.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:w(s[so])*n,h:w(s[lo])*n,m:w(s[co])*n,s:w(s[uo])*n,ms:w(Tn(1e3*s[ho]))*n}):(s=qo.exec(e))?(n="-"===s[1]?-1:1,o={y:Vn(s[2],n),M:Vn(s[3],n),w:Vn(s[4],n),d:Vn(s[5],n),h:Vn(s[6],n),m:Vn(s[7],n),s:Vn(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=qn(wn(o.from),wn(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),i=new Cn(o),Mn(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Vn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qn(e,t){var n;return e.isValid()&&t.isValid()?(t=Pn(t,e),e.isBefore(t)?n=Gn(e,t):(n=Gn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Zn(e,t){return function(n,i){var a,o;return null===i||isNaN(+i)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,a=Hn(n,i),Jn(this,a,e),this}}function Jn(t,n,i,a){var o=n._milliseconds,r=Tn(n._days),s=Tn(n._months);t.isValid()&&(a=null==a||a,o&&t._d.setTime(t._d.valueOf()+o*i),r&&U(t,"Date",W(t,"Date")+r*i),s&&dt(t,W(t,"Month")+s*i),a&&e.updateOffset(t,r||s))}function Kn(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Qn(t,n){var i=t||wn(),a=Pn(i,this).startOf("day"),o=e.calendarFormat(this,a)||"sameElse",r=n&&(S(n[o])?n[o].call(this,i):n[o]);return this.format(r||this.localeData().calendar(o,this,wn(i)))}function Xn(){return new g(this)}function ei(e,t){var n=b(e)?e:wn(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function ti(e,t){var n=b(e)?e:wn(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function ni(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ii(e,t){var n,i=b(e)?e:wn(e);return!(!this.isValid()||!i.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function ai(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function oi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ri(e,t,n){var i,a,o,r;return this.isValid()?(i=Pn(e,this),i.isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(r=si(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(o=this-i,r="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?r:y(r)):0/0):0/0}function si(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return 0>t-o?(n=e.clone().add(a-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),i=(t-o)/(n-o)),-(a+i)||0}function li(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function di(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ci(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+i+a+o)}function ui(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Z(this,t);return this.localeData().postformat(n)}function hi(e,t){return this.isValid()&&(b(e)&&e.isValid()||wn(e).isValid())?Hn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fi(e){return this.from(wn(),e)}function mi(e,t){return this.isValid()&&(b(e)&&e.isValid()||wn(e).isValid())?Hn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pi(e){return this.to(wn(),e)}function vi(e){var t;return void 0===e?this._locale._abbr:(t=tn(e),null!=t&&(this._locale=t),this)}function gi(){return this._locale}function bi(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yi(e){return e=R(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function wi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function $i(){return new Date(this.valueOf())}function ki(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function Di(){return m(this)}function Ci(){return c({},f(this))}function Mi(){return f(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Yi(e,t){V(0,[e,e.length],0,t)}function Oi(e){return Ei.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Pi(e){return Ei.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ii(){return kt(this.year(),1,4)}function Li(){var e=this.localeData()._week;return kt(this.year(),e.dow,e.doy)}function Ei(e,t,n,i,a){var o;return null==e?$t(this,i,a).year:(o=kt(e,i,a),t>o&&(t=o),Ri.call(this,e,t,n,i,a))}function Ri(e,t,n,i,a){var o=_t(e,t,n,i,a),r=yt(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Fi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ni(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ai(e,t){t[ho]=w(1e3*("0."+e))}function ji(){return this._isUTC?"UTC":""}function Wi(){return this._isUTC?"Coordinated Universal Time":""}function Ui(e){return wn(1e3*e)}function zi(){return wn.apply(null,arguments).parseZone()}function Bi(e){return e}function Hi(e,t,n,i){var a=tn(),o=u().set(i,t);return a[n](o,e)}function Vi(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return Hi(e,t,n,"month");var i,a=[];for(i=0;12>i;i++)a[i]=Hi(e,i,n,"month");return a}function Gi(e,t,n,i){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var a=tn(),o=e?a._week.dow:0;if(null!=n)return Hi(t,(n+o)%7,i,"day");var s,l=[];for(s=0;7>s;s++)l[s]=Hi(t,(s+o)%7,i,"day");return l}function qi(e,t){return Vi(e,t,"months")}function Zi(e,t){return Vi(e,t,"monthsShort")}function Ji(e,t,n){return Gi(e,t,n,"weekdays")}function Ki(e,t,n){return Gi(e,t,n,"weekdaysShort")}function Qi(e,t,n){return Gi(e,t,n,"weekdaysMin")}function Xi(){var e=this._data;return this._milliseconds=or(this._milliseconds),this._days=or(this._days),this._months=or(this._months),e.milliseconds=or(e.milliseconds),e.seconds=or(e.seconds),e.minutes=or(e.minutes),e.hours=or(e.hours),e.months=or(e.months),e.years=or(e.years),this}function ea(e,t,n,i){var a=Hn(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function ta(e,t){return ea(this,e,t,1)}function na(e,t){return ea(this,e,t,-1)}function ia(e){return 0>e?Math.floor(e):Math.ceil(e)}function aa(){var e,t,n,i,a,o=this._milliseconds,r=this._days,s=this._months,l=this._data;return o>=0&&r>=0&&s>=0||0>=o&&0>=r&&0>=s||(o+=864e5*ia(ra(s)+r),r=0,s=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,n=y(t/60),l.hours=n%24,r+=y(n/24),a=y(oa(r)),s+=a,r-=ia(ra(a)),i=y(s/12),s%=12,l.days=r,l.months=s,l.years=i,this}function oa(e){return 4800*e/146097}function ra(e){return 146097*e/4800}function sa(e){if(!this.isValid())return 0/0;var t,n,i=this._milliseconds;if(e=R(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+oa(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ra(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function la(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):0/0}function da(e){return function(){return this.as(e)}}function ca(e){return e=R(e),this.isValid()?this[e+"s"]():0/0}function ua(e){return function(){return this.isValid()?this._data[e]:0/0}}function ha(){return y(this.days()/7)}function fa(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function ma(e,t,n){var i=Hn(e).abs(),a=_r(i.as("s")),o=_r(i.as("m")),r=_r(i.as("h")),s=_r(i.as("d")),l=_r(i.as("M")),d=_r(i.as("y")),c=a<=$r.ss&&["s",a]||a<$r.s&&["ss",a]||1>=o&&["m"]||o<$r.m&&["mm",o]||1>=r&&["h"]||r<$r.h&&["hh",r]||1>=s&&["d"]||s<$r.d&&["dd",s]||1>=l&&["M"]||l<$r.M&&["MM",l]||1>=d&&["y"]||["yy",d];return c[2]=t,c[3]=+e>0,c[4]=n,fa.apply(null,c)}function pa(e){return void 0===e?_r:"function"==typeof e&&(_r=e,!0)}function va(e,t){return void 0!==$r[e]&&(void 0===t?$r[e]:($r[e]=t,"s"===e&&($r.ss=t-1),!0))}function ga(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=ma(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ba(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=kr(this._milliseconds)/1e3,a=kr(this._days),o=kr(this._months);e=y(i/60),t=y(e/60),i%=60,e%=60,n=y(o/12),o%=12;var r=n,s=o,l=a,d=t,c=e,u=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(d||c||u?"T":"")+(d?d+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var ya,wa;wa=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var _a=wa,$a=e.momentProperties=[],ka=!1,xa={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Sa;Sa=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var Da,Ca=Sa,Ma={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ta={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ya="Invalid date",Oa="%d",Pa=/\d{1,2}/,Ia={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},La={},Ea={},Ra=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Na={},Aa={},ja=/\d/,Wa=/\d\d/,Ua=/\d{3}/,za=/\d{4}/,Ba=/[+-]?\d{6}/,Ha=/\d\d?/,Va=/\d\d\d\d?/,Ga=/\d\d\d\d\d\d?/,qa=/\d{1,3}/,Za=/\d{1,4}/,Ja=/[+-]?\d{1,6}/,Ka=/\d+/,Qa=/[+-]?\d+/,Xa=/Z|[+-]\d\d:?\d\d/gi,eo=/Z|[+-]\d\d(?::?\d\d)?/gi,to=/[+-]?\d+(\.\d{1,3})?/,no=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,io={},ao={},oo=0,ro=1,so=2,lo=3,co=4,uo=5,ho=6,fo=7,mo=8;Da=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var po=Da;V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),E("month","M"),N("month",8),K("M",Ha),K("MM",Ha,Wa),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),tt(["M","MM"],function(e,t){t[ro]=w(e)-1}),tt(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ro]=a:f(n).invalidMonth=e});var vo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,go="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),bo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yo=no,wo=no;V("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),E("year","y"),N("year",1),K("Y",Qa),K("YY",Ha,Wa),K("YYYY",Za,za),K("YYYYY",Ja,Ba),K("YYYYYY",Ja,Ba),tt(["YYYYY","YYYYYY"],oo),tt("YYYY",function(t,n){n[oo]=2===t.length?e.parseTwoDigitYear(t):w(t)
}),tt("YY",function(t,n){n[oo]=e.parseTwoDigitYear(t)}),tt("Y",function(e,t){t[oo]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var _o=j("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),N("week",5),N("isoWeek",5),K("w",Ha),K("ww",Ha,Wa),K("W",Ha),K("WW",Ha,Wa),nt(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=w(e)});var $o={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),K("d",Ha),K("e",Ha),K("E",Ha),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),nt(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e}),nt(["d","e","E"],function(e,t,n,i){t[i]=w(e)});var ko="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),So="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Do=no,Co=no,Mo=no;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,zt),V("k",["kk",2],0,Bt),V("hmm",0,0,function(){return""+zt.apply(this)+H(this.minutes(),2)}),V("hmmss",0,0,function(){return""+zt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Ht("a",!0),Ht("A",!1),E("hour","h"),N("hour",13),K("a",Vt),K("A",Vt),K("H",Ha),K("h",Ha),K("k",Ha),K("HH",Ha,Wa),K("hh",Ha,Wa),K("kk",Ha,Wa),K("hmm",Va),K("hmmss",Ga),K("Hmm",Va),K("Hmmss",Ga),tt(["H","HH"],lo),tt(["k","kk"],function(e,t){var n=w(e);t[lo]=24===n?0:n}),tt(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),tt(["h","hh"],function(e,t,n){t[lo]=w(e),f(n).bigHour=!0}),tt("hmm",function(e,t,n){var i=e.length-2;t[lo]=w(e.substr(0,i)),t[co]=w(e.substr(i)),f(n).bigHour=!0}),tt("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[lo]=w(e.substr(0,i)),t[co]=w(e.substr(i,2)),t[uo]=w(e.substr(a)),f(n).bigHour=!0}),tt("Hmm",function(e,t){var n=e.length-2;t[lo]=w(e.substr(0,n)),t[co]=w(e.substr(n))}),tt("Hmmss",function(e,t){var n=e.length-4,i=e.length-2;t[lo]=w(e.substr(0,n)),t[co]=w(e.substr(n,2)),t[uo]=w(e.substr(i))});var To,Yo=/[ap]\.?m?\.?/i,Oo=j("Hours",!0),Po={calendar:Ma,longDateFormat:Ta,invalidDate:Ya,ordinal:Oa,dayOfMonthOrdinalParse:Pa,relativeTime:Ia,months:go,monthsShort:bo,week:$o,weekdays:ko,weekdaysMin:So,weekdaysShort:xo,meridiemParse:Yo},Io={},Lo={},Eo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ro=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fo=/Z|[+-]\d\d(?::?\d\d)?/,No=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ao=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jo=/^\/?Date\((\-?\d+)/i,Wo=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Uo=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wn.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:p()}),zo=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()}),Bo=function(){return Date.now?Date.now():+new Date},Ho=["year","quarter","month","week","day","hour","minute","second","millisecond"];Yn("Z",":"),Yn("ZZ",""),K("Z",eo),K("ZZ",eo),tt(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=On(eo,e)});var Vo=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Go=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,qo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Hn.fn=Cn.prototype,Hn.invalid=Dn;var Zo=Zn(1,"add"),Jo=Zn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ko=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Yi("gggg","weekYear"),Yi("ggggg","weekYear"),Yi("GGGG","isoWeekYear"),Yi("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),K("G",Qa),K("g",Qa),K("GG",Ha,Wa),K("gg",Ha,Wa),K("GGGG",Za,za),K("gggg",Za,za),K("GGGGG",Ja,Ba),K("ggggg",Ja,Ba),nt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=w(e)}),nt(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),E("quarter","Q"),N("quarter",7),K("Q",ja),tt("Q",function(e,t){t[ro]=3*(w(e)-1)}),V("D",["DD",2],"Do","date"),E("date","D"),N("date",9),K("D",Ha),K("DD",Ha,Wa),K("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),tt(["D","DD"],so),tt("Do",function(e,t){t[so]=w(e.match(Ha)[0],10)});var Qo=j("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),N("dayOfYear",4),K("DDD",qa),K("DDDD",Ua),tt(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),V("m",["mm",2],0,"minute"),E("minute","m"),N("minute",14),K("m",Ha),K("mm",Ha,Wa),tt(["m","mm"],co);var Xo=j("Minutes",!1);V("s",["ss",2],0,"second"),E("second","s"),N("second",15),K("s",Ha),K("ss",Ha,Wa),tt(["s","ss"],uo);var er=j("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),E("millisecond","ms"),N("millisecond",16),K("S",qa,ja),K("SS",qa,Wa),K("SSS",qa,Ua);var tr;for(tr="SSSS";tr.length<=9;tr+="S")K(tr,Ka);for(tr="S";tr.length<=9;tr+="S")tt(tr,Ai);var nr=j("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ir=g.prototype;ir.add=Zo,ir.calendar=Qn,ir.clone=Xn,ir.diff=ri,ir.endOf=yi,ir.format=ui,ir.from=hi,ir.fromNow=fi,ir.to=mi,ir.toNow=pi,ir.get=z,ir.invalidAt=Mi,ir.isAfter=ei,ir.isBefore=ti,ir.isBetween=ni,ir.isSame=ii,ir.isSameOrAfter=ai,ir.isSameOrBefore=oi,ir.isValid=Di,ir.lang=Ko,ir.locale=vi,ir.localeData=gi,ir.max=zo,ir.min=Uo,ir.parsingFlags=Ci,ir.set=B,ir.startOf=bi,ir.subtract=Jo,ir.toArray=ki,ir.toObject=xi,ir.toDate=$i,ir.toISOString=di,ir.inspect=ci,ir.toJSON=Si,ir.toString=li,ir.unix=_i,ir.valueOf=wi,ir.creationData=Ti,ir.year=_o,ir.isLeapYear=gt,ir.weekYear=Oi,ir.isoWeekYear=Pi,ir.quarter=ir.quarters=Fi,ir.month=ct,ir.daysInMonth=ut,ir.week=ir.weeks=Ct,ir.isoWeek=ir.isoWeeks=Mt,ir.weeksInYear=Li,ir.isoWeeksInYear=Ii,ir.date=Qo,ir.day=ir.days=Rt,ir.weekday=Ft,ir.isoWeekday=Nt,ir.dayOfYear=Ni,ir.hour=ir.hours=Oo,ir.minute=ir.minutes=Xo,ir.second=ir.seconds=er,ir.millisecond=ir.milliseconds=nr,ir.utcOffset=Ln,ir.utc=Rn,ir.local=Fn,ir.parseZone=Nn,ir.hasAlignedHourOffset=An,ir.isDST=jn,ir.isLocal=Un,ir.isUtcOffset=zn,ir.isUtc=Bn,ir.isUTC=Bn,ir.zoneAbbr=ji,ir.zoneName=Wi,ir.dates=k("dates accessor is deprecated. Use date instead.",Qo),ir.months=k("months accessor is deprecated. Use month instead",ct),ir.years=k("years accessor is deprecated. Use year instead",_o),ir.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",En),ir.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Wn);var ar=M.prototype;ar.calendar=T,ar.longDateFormat=Y,ar.invalidDate=O,ar.ordinal=P,ar.preparse=Bi,ar.postformat=Bi,ar.relativeTime=I,ar.pastFuture=L,ar.set=D,ar.months=ot,ar.monthsShort=rt,ar.monthsParse=lt,ar.monthsRegex=ft,ar.monthsShortRegex=ht,ar.week=xt,ar.firstDayOfYear=Dt,ar.firstDayOfWeek=St,ar.weekdays=Ot,ar.weekdaysMin=It,ar.weekdaysShort=Pt,ar.weekdaysParse=Et,ar.weekdaysRegex=At,ar.weekdaysShortRegex=jt,ar.weekdaysMinRegex=Wt,ar.isPM=Gt,ar.meridiem=qt,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Qt),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",tn);var or=Math.abs,rr=da("ms"),sr=da("s"),lr=da("m"),dr=da("h"),cr=da("d"),ur=da("w"),hr=da("M"),fr=da("y"),mr=ua("milliseconds"),pr=ua("seconds"),vr=ua("minutes"),gr=ua("hours"),br=ua("days"),yr=ua("months"),wr=ua("years"),_r=Math.round,$r={ss:44,s:45,m:45,h:22,d:26,M:11},kr=Math.abs,xr=Cn.prototype;return xr.isValid=Sn,xr.abs=Xi,xr.add=ta,xr.subtract=na,xr.as=sa,xr.asMilliseconds=rr,xr.asSeconds=sr,xr.asMinutes=lr,xr.asHours=dr,xr.asDays=cr,xr.asWeeks=ur,xr.asMonths=hr,xr.asYears=fr,xr.valueOf=la,xr._bubble=aa,xr.get=ca,xr.milliseconds=mr,xr.seconds=pr,xr.minutes=vr,xr.hours=gr,xr.days=br,xr.weeks=ha,xr.months=yr,xr.years=wr,xr.humanize=ga,xr.toISOString=ba,xr.toString=ba,xr.toJSON=ba,xr.locale=vi,xr.localeData=gi,xr.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ba),xr.lang=Ko,V("X",0,0,"unix"),V("x",0,0,"valueOf"),K("x",Qa),K("X",to),tt("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),tt("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.18.1",t(wn),e.fn=ir,e.min=$n,e.max=kn,e.now=Bo,e.utc=u,e.unix=Ui,e.months=qi,e.isDate=s,e.locale=Qt,e.invalid=p,e.duration=Hn,e.isMoment=b,e.weekdays=Ji,e.parseZone=zi,e.localeData=tn,e.isDuration=Mn,e.monthsShort=Zi,e.weekdaysMin=Qi,e.defineLocale=Xt,e.updateLocale=en,e.locales=nn,e.weekdaysShort=Ki,e.normalizeUnits=R,e.relativeTimeRounding=pa,e.relativeTimeThreshold=va,e.calendarFormat=Kn,e.prototype=ir,e}),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(i){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){var i="moment";return n=e.defined&&e.defined(i)?e(i):void 0,t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,a=window.setTimeout,o=function(e,t,i,a){n?e.addEventListener(t,i,!!a):e.attachEvent("on"+t,i)},r=function(e,t,i,a){n?e.removeEventListener(t,i,!!a):e.detachEvent("on"+t,i)},s=function(e,t,n){var a;i.createEvent?(a=i.createEvent("HTMLEvents"),a.initEvent(t,!0,!1),a=b(a,n),e.dispatchEvent(a)):i.createEventObject&&(a=i.createEventObject(),a=b(a,n),e.fireEvent("on"+t,a))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},d=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){d(e,t)||(e.className=""===e.className?t:e.className+" "+t)},u=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},h=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},m=function(e){return e%4===0&&e%100!==0||e%400===0},p=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){f(e)&&e.setHours(0,0,0,0)},g=function(e,t){return e.getTime()===t.getTime()},b=function(e,t,n){var i,a;for(i in t)a=void 0!==e[i],a&&"object"==typeof t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):h(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=b({},t[i],n):(n||!a)&&(e[i]=t[i]);return e},y={field:null,bound:void 0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e,t,n,i,a){if(a)return'<td class="is-empty"></td>';var o=[];return i&&o.push("is-disabled"),n&&o.push("is-today"),t&&o.push("is-selected"),'<td data-day="'+e+'" class="'+o.join(" ")+'"><button class="pika-button" type="button">'+e+"</button></td>"},$=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},k=function(e){return"<tbody>"+e.join("")+"</tbody>"},x=function(e){var t,n=[];for(t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+w(e,t)+'">'+w(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},S=function(e){var t,n,i,a,o,r=e._o,s=e._m,l=e._y,d=l===r.minYear,c=l===r.maxYear,u='<div class="pika-title">',f=!0,m=!0;for(i=[],t=0;12>t;t++)i.push('<option value="'+t+'"'+(t===s?" selected":"")+(d&&t<r.minMonth||c&&t>r.maxMonth?"disabled":"")+">"+r.i18n.months[t]+"</option>");for(a='<div class="pika-label">'+r.i18n.months[s]+'<select class="pika-select pika-select-month">'+i.join("")+"</select></div>",h(r.yearRange)?(t=r.yearRange[0],n=r.yearRange[1]+1):(t=l-r.yearRange,n=1+l+r.yearRange),i=[];n>t&&t<=r.maxYear;t++)t>=r.minYear&&i.push('<option value="'+t+'"'+(t===l?" selected":"")+">"+t+"</option>");return o='<div class="pika-label">'+l+r.yearSuffix+'<select class="pika-select pika-select-year">'+i.join("")+"</select></div>",u+=r.showMonthAfterYear?o+a:a+o,d&&(0===s||r.minMonth>=s)&&(f=!1),c&&(11===s||r.maxMonth<=s)&&(m=!1),u+='<button class="pika-prev'+(f?"":" is-disabled")+'" type="button">'+r.i18n.previousMonth+"</button>",u+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+r.i18n.nextMonth+"</button>",u+="</div>"},D=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+x(e)+k(t)+"</table>"},C=function(r){var s=this,l=s.config(r);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t){if(!d(t,"is-disabled")){if(d(t,"pika-button")&&!d(t,"is-empty"))return s.setDate(new Date(s._y,s._m,parseInt(t.innerHTML,10))),l.bound&&a(function(){s.hide()},100),void 0;d(t,"pika-prev")?s.prevMonth():d(t,"pika-next")&&s.nextMonth()}if(d(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(d(t,"pika-select-month")?s.gotoMonth(t.value):d(t,"pika-select-year")&&s.gotoYear(t.value))},s._onInputChange=function(n){var i;n.firedBy!==s&&(t?(i=e(l.field.value,l.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(l.field.value)),s.setDate(f(i)?i:null),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){s._c||(s._b=a(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&d(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do if(d(i,"pika-single"))return;while(i=i.parentNode);s._v&&t!==l.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"change",s._onChange),l.field&&(l.bound?i.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=t&&l.field.value?e(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return C.prototype={config:function(e){this._o||(this._o=b({},y,!0));var t=b(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(v(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(v(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),h(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||y.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n){t&&e.isMoment(n)&&this.setDate(n.toDate())},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>e?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){f(e)&&(this._y=e.getFullYear(),this._m=e.getMonth(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e=parseInt(e,10))||(this._m=0>e?0:e>11?11:e,this.draw())},nextMonth:function(){++this._m>11&&(this._m=0,this._y++),this.draw()},prevMonth:function(){--this._m<0&&(this._m=11,this._y--),this.draw()},gotoYear:function(e){isNaN(e)||(this._y=parseInt(e,10),this.draw())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,o=t.minMonth,r=t.maxMonth;if(this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(r)&&this._m>r&&(this._m=r)),this.el.innerHTML=S(this)+this.render(this._y,this._m),t.bound&&(this.adjustPosition(),"hidden"!==t.field.type&&a(function(){t.trigger.focus()},1)),"function"==typeof this._o.onDraw){var s=this;a(function(){s._o.onDraw.call(s)},0)}}},adjustPosition:function(){var e,t,n,a=this._o.trigger,o=a,r=this.el.offsetWidth,s=this.el.offsetHeight,l=window.innerWidth||i.documentElement.clientWidth,d=window.innerHeight||i.documentElement.clientHeight,c=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;if("function"==typeof a.getBoundingClientRect)n=a.getBoundingClientRect(),e=n.left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=o.offsetLeft,t=o.offsetTop+o.offsetHeight;o=o.offsetParent;)e+=o.offsetLeft,t+=o.offsetTop;e+r>l&&(e=e-r+a.offsetWidth),t+s>d+c&&(t=t-s-a.offsetHeight),this.el.style.cssText="position:absolute;left:"+e+"px;top:"+t+"px;"},render:function(e,t){var n=this._o,i=new Date,a=p(e,t),o=new Date(e,t,1).getDay(),r=[],s=[];v(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=a+o,d=l;d>7;)d-=7;l+=7-d;for(var c=0,u=0;l>c;c++){var h=new Date(e,t,1+(c-o)),m=n.minDate&&h<n.minDate||n.maxDate&&h>n.maxDate,b=f(this._d)?g(h,this._d):!1,y=g(h,i),w=o>c||c>=a+o;s.push(_(1+(c-o),b,y,m,w)),7===++u&&(r.push($(s,n.isRTL)),s=[],u=0)}return D(n,r)},isVisible:function(){return this._v},show:function(){this._v||(this._o.bound&&o(i,"click",this._onClick),u(this.el,"is-hidden"),this._v=!0,this.draw(),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&r(i,"click",this._onClick),this.el.style.cssText="",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"change",this._onChange),this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},C}),function(e,t){"use strict";"object"==typeof exports?t(require("jquery"),require("../pikaday")):"function"==typeof define&&define.amd?define(["jquery","pikaday"],t):t(e.jQuery,e.Pikaday)}(this,function(e,t){"use strict";e.fn.pikaday=function(){var n=arguments;return n&&n.length||(n=[{}]),this.each(function(){var i=e(this),a=i.data("pikaday");if(a instanceof t)"string"==typeof n[0]&&"function"==typeof a[n[0]]&&a[n[0]].apply(a,Array.prototype.slice.call(n,1));else if("object"==typeof n[0]){var o=e.extend({},n[0]);o.field=i[0],i.data("pikaday",new t(o))}})}}),$(function(){function e(){var e=$("#event_description");setTimeout(function(){e.css("height","auto"),e.css("height",e[0].scrollHeight+"px")},0)}function t(e,t){var i="https://maps.googleapis.com/maps/api/geocode/json";i+="?address="+e+",+"+t,$.ajax({url:i,dataType:"json"}).done(function(e){a=e.results[0].geometry.location.lat,o=e.results[0].geometry.location.lng,replacement=$("#event_timezone"),n(replacement)}).fail(function(){console.log("Geocoding Failed")})}function n(e){console.log(e.val());var t="https://maps.googleapis.com/maps/api/timezone/json";t+="?location="+a+","+o,t+="&timestamp="+Math.floor(Date.now()/1e3).toString(),t+="&key=AIzaSyDLggV7rvWuejzGqq0VUeob7vW64UDC9yA",$.ajax({url:t,dataType:"json"}).done(function(t){e.val(t.timeZoneId)}).fail(function(){console.log("Timezone Request Failed")})}if($(".events.new, .events.create").length>0){applyPickers(),hideEmptyFilenames(),$(".remove-date").hide();var i=["doc","docx","xls","xlsx","pdf"];$("input[type=submit]").on("click",function(e){for(var t=[$("#event_title"),$("#event_organization"),$("#event_website"),$("#event_price"),$("#event_event_type"),$("#event_description"),$("#event_phone_number"),$("#event_email"),$("#event_city"),$("#event_state"),$("#event_timezone"),$("#event_submitter_first_name"),$("#event_submitter_last_name"),$("#event_submitter_title"),$("#event_submitter_organization"),$("#event_submitter_phone_number"),$("#event_submitter_email")],n=!1,i=0;i<t.length;i++)""===t[i].val()?(n=!0,t[i].addClass("error")):t[i].removeClass("error");$(".date").first().each(function(){var e=$(this).find(".event_date input"),t=$(this).find(".event_start_time input"),i=$(this).find(".event_end_time input");return""===e.val()||""===t.val()||""===i.val()?(n=!0,$(".dates-container").addClass("error"),!1):($(".dates-container").removeClass("error"),void 0)}),n&&(e.preventDefault(),window.scrollTo(0,0),$(".form-large").prepend('<div style="margin-bottom: 20px; color: #f71f4a;"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Please fill out the missing fields that are highlighted below.</div>'))}),$("#event_organization").on("change",function(){$("#event_submitter_organization").val($(this).val())}),$(document).on("click",".remove-date",function(e){e.preventDefault(),$(".date").length>1&&$(this).parents(".date").remove(),1===$(".date").length&&$(".remove-date").hide()}),$(document).on("click",".add-date",function(e){e.preventDefault(),addDate("","","",$(this)),applyPickers()}),$("#event_description").on("keydown paste change",function(t){var n=100,i=$(this).val();"paste"===t.type&&(i+=(t.originalEvent||t).clipboardData.getData("text/plain"));var a=i.split(" ");if(""===a[a.length-1]&&a.pop(),a.length>n){t.preventDefault();var o=a.slice(0,n);a=o.join(" "),$(this).val(a)}$(".remaining .amount").text(n-a.length>=0?n-a.length:0),e()}),$(".single").on("click",function(e){$(".single").hide(),$(".multi").hide(),$(".webinar").hide(),$(".multi-selected").hide(),$(".single-selected").css("display","inline-block"),$(".webinar-selected").hide(),$(".dates").show(),$(".recurrence").show(),$("#event_multiday_event").prop("checked",!1),e.preventDefault()}),$(".single-selected").on("click",function(e){$(".single").show(),$(".multi").show(),$(".webinar").show(),$(".multi-selected").hide(),$(".single-selected").hide(),$(".webinar-selected").hide(),$(".dates").hide(),removeAllButFirstDate(!0),$(".recurrence").hide(),$("#event_multiday_event").prop("checked",!1),e.preventDefault()}),$(".multi").on("click",function(e){$(".single").hide(),$(".multi").hide(),$(".webinar").hide(),$(".multi-selected").css("display","inline-block"),$(".single-selected").hide(),$(".webinar-selected").hide(),$(".dates").show(),$(".recurrence").hide(),$("#event_multiday_event").prop("checked",!0),e.preventDefault()}),$(".multi-selected").on("click",function(e){$(".single").show(),$(".multi").show(),$(".webinar").show(),$(".multi-selected").hide(),$(".single-selected").hide(),$(".webinar-selected").hide(),$(".dates").hide(),removeAllButFirstDate(!0),$(".recurrence").hide(),$("#event_multiday_event").prop("checked",!1),e.preventDefault()}),$(".webinar").on("click",function(e){$(".single").hide(),$(".multi").hide(),$(".webinar").hide(),$(".multi-selected").hide(),$(".single-selected").hide(),$(".webinar-selected").css("display","inline-block"),$(".dates").show(),$(".recurrence").show(),$("#event_webinar").prop("checked",!0),e.preventDefault()}),$(".webinar-selected").on("click",function(e){$(".single").show(),$(".multi").show(),$(".webinar").show(),$(".multi-selected").hide(),$(".single-selected").hide(),$(".webinar-selected").hide(),$(".dates").hide(),removeAllButFirstDate(!0),$(".recurrence").hide(),$("#event_webinar").prop("checked",!1),e.preventDefault()}),$(document).on("click",".remove-agenda",function(e){e.preventDefault(),$(this).parents(".agenda").remove()}),$(document).on("change",".event_agenda input",function(e){e.preventDefault();var t=$(this).parents(".agenda"),n=t.clone(),a=e.target.files[0].name,o=a.split("."),r=o[o.length-1];-1!==$.inArray(r,i)?(t.find(".filename").text(a),n.find("input").val(""),$(".agendas").append(n),hideEmptyFilenames(),$(this).hide()):(t.find("input").val(""),alert("The file extension ."+r+" is not allowed."))}),$(document).on("click",".remove-presenter",function(e){e.preventDefault(),$(this).parents(".presenter").remove()}),$(document).on("change",".event_presenter input",function(e){e.preventDefault();var t=$(this).parents(".presenter"),n=t.clone(),a=e.target.files[0].name,o=a.split("."),r=o[o.length-1];-1!==$.inArray(r,i)?(t.find(".filename").text(a),n.find("input").val(""),$(".presenters").append(n),hideEmptyFilenames(),$(this).hide()):(t.find("input").val(""),alert("The file extension ."+r+" is not allowed."))}),$(document).on("click",".remove-flyer",function(e){e.preventDefault(),$(".event_flyer input").val("").show(),$(".flyer-filename .filename").text(""),hideEmptyFilenames()}),$(document).on("change",".event_flyer input",function(e){e.preventDefault();var t=$(this).parents(".flyer"),n=e.target.files[0].name,a=n.split("."),o=a[a.length-1];-1!==$.inArray(o,i)?(t.find(".filename").text(n),hideEmptyFilenames(),$(this).hide()):(t.find("input").val(""),alert("The file extension ."+o+" is not allowed."))}),$(".recurring-monthly").on("click",function(e){e.preventDefault(),recurringWarningCheck()&&addMonthlyRecurring()}),$(".recurring-weekly").on("click",function(e){e.preventDefault(),recurringWarningCheck()&&addWeeklyRecurring()});var a="",o="";$("#event_city, #event_state").on("change",function(e){e.preventDefault();var n=$("#event_city").val(),i=$("#event_state").val();""!==n&&""!=i&&t(n,i)})}$(".events.index").length>0&&($(".btn-filter").on("click",function(e){e.preventDefault(),$(".form-horizontal").toggle()}),$(window).resize(function(){window.innerWidth>=1e3&&$(".form-horizontal").show(),window.innerWidth<1e3&&$(".form-horizontal").hide()}),$(".more-events .btn").on("click",function(e){e.preventDefault();var t=$(this),n=20;t.prop("disabled",!0),offset=$(this).attr("data-offset"),$.ajax({url:DS.routes.events_path+"?offset="+offset,success:function(e){t.prop("disabled",!1),$(e).insertBefore(".year.end"),t.attr("data-offset",parseInt(t.attr("data-offset"))+n),parseInt(t.attr("data-offset"))>=parseInt($(".events-list").attr("data-total-events"))&&t.hide()}})}))}),function(e){e.fn.timepicki=function(t){var n={format_output:function(e,t,n){return i.show_meridian?(e=Math.min(Math.max(parseInt(e),1),12),10>e&&(e="0"+e),t=Math.min(Math.max(parseInt(t),0),59),10>t&&(t="0"+t),e+":"+t+" "+n):(e=Math.min(Math.max(parseInt(e),0),23),10>e&&(e="0"+e),t=Math.min(Math.max(parseInt(t),0),59),10>t&&(t="0"+t),t=Math.min(Math.max(parseInt(t),0),59),e+":"+t)},increase_direction:"up",custom_classes:"",min_hour_value:1,max_hour_value:12,show_meridian:!0,step_size_hours:"1",step_size_minutes:"1",overflow_minutes:!1,disable_keyboard_mobile:!1,reset:!1,on_change:null},i=e.extend({},n,t);return this.each(function(){function t(t){return e.contains(h[0],t[0])||h.is(t)}function n(e,t){var n=v.find(".ti_tx input").val(),a=v.find(".mi_tx input").val(),r="";i.show_meridian&&(r=v.find(".mer_tx input").val()),0===n.length||0===a.length||i.show_meridian&&0===r.length||(c.attr("data-timepicki-tim",n),c.attr("data-timepicki-mini",a),i.show_meridian?(c.attr("data-timepicki-meri",r),c.val(i.format_output(n,a,r))):c.val(i.format_output(n,a))),null!==i.on_change&&i.on_change(c[0]),t&&o()}function a(){r(i.start_time),v.fadeIn();var t=v.find("input:visible").first();t.focus();var n=function(i){if(9===i.which&&i.shiftKey){t.off("keydown",n);var a=e(":input:visible:not(.timepicki-input)"),o=a.index(c),r=a.get(o-1);r.focus()}};t.on("keydown",n)}function o(){v.fadeOut()}function r(e){var t,n,a,o;c.is("[data-timepicki-tim]")?(n=Number(c.attr("data-timepicki-tim")),a=Number(c.attr("data-timepicki-mini")),i.show_meridian&&(o=c.attr("data-timepicki-meri"))):"object"==typeof e?(n=Number(e[0]),a=Number(e[1]),i.show_meridian&&(o=e[2])):(t=new Date,n=t.getHours(),a=t.getMinutes(),o="AM",i.show_meridian&&(0==n?n=12:12==n?o="PM":n>12&&(n-=12,o="PM"))),10>n?v.find(".ti_tx input").val("0"+n):v.find(".ti_tx input").val(n),10>a?v.find(".mi_tx input").val("0"+a):v.find(".mi_tx input").val(a),i.show_meridian&&(10>o?v.find(".mer_tx input").val("0"+o):v.find(".mer_tx input").val(o))}function s(e,t){var n="time",a=Number(v.find("."+n+" .ti_tx input").val()),o=Number(i.min_hour_value),r=Number(i.max_hour_value),s=Number(i.step_size_hours);if(e&&e.hasClass("action-next")||"next"===t)if(a+s>r){var l=o;l=10>l?"0"+l:String(l),v.find("."+n+" .ti_tx input").val(l)}else a+=s,10>a&&(a="0"+a),v.find("."+n+" .ti_tx input").val(a);else if(e&&e.hasClass("action-prev")||"prev"===t){var d=Number(i.min_hour_value);if(d>a-s){var c=r;c=10>c?"0"+c:String(c),v.find("."+n+" .ti_tx input").val(c)}else a-=s,10>a&&(a="0"+a),v.find("."+n+" .ti_tx input").val(a)}}function l(e,t){var n="mins",a=Number(v.find("."+n+" .mi_tx input").val()),o=59,r=Number(i.step_size_minutes);e&&e.hasClass("action-next")||"next"===t?a+r>o?(v.find("."+n+" .mi_tx input").val("00"),i.overflow_minutes&&s(null,"next")):(a+=r,10>a?v.find("."+n+" .mi_tx input").val("0"+a):v.find("."+n+" .mi_tx input").val(a)):(e&&e.hasClass("action-prev")||"prev"===t)&&(-1>=a-r?(v.find("."+n+" .mi_tx input").val(o+1-r),i.overflow_minutes&&s(null,"prev")):(a-=r,10>a?v.find("."+n+" .mi_tx input").val("0"+a):v.find("."+n+" .mi_tx input").val(a)))
}function d(e,t){var n="meridian",i=null;i=v.find("."+n+" .mer_tx input").val(),e&&e.hasClass("action-next")||"next"===t?"AM"==i?v.find("."+n+" .mer_tx input").val("PM"):v.find("."+n+" .mer_tx input").val("AM"):(e&&e.hasClass("action-prev")||"prev"===t)&&("AM"==i?v.find("."+n+" .mer_tx input").val("PM"):v.find("."+n+" .mer_tx input").val("AM"))}var c=e(this),u=c.outerHeight();u+=10,e(c).wrap("<div class='time_pick'>");var h=e(this).parents(".time_pick"),f="down"===i.increase_direction?"<div class='prev action-prev'></div>":"<div class='prev action-next'></div>",m="down"===i.increase_direction?"<div class='next action-next'></div>":"<div class='next action-prev'></div>",p=e("<div class='timepicker_wrap "+i.custom_classes+"'><div class='arrow_top'></div><div class='time'>"+f+"<div class='ti_tx'><input type='text' class='timepicki-input'"+(i.disable_keyboard_mobile?"readonly":"")+"></div>"+m+"</div><div class='mins'>"+f+"<div class='mi_tx'><input type='text' class='timepicki-input'"+(i.disable_keyboard_mobile?"readonly":"")+"></div>"+m+"</div>");i.show_meridian&&p.append("<div class='meridian'>"+f+"<div class='mer_tx'><input type='text' class='timepicki-input' readonly></div>"+m+"</div>"),i.reset&&p.append("<div><a href='#' class='reset_time'>Reset</a></div>"),h.append(p);var v=e(this).next(".timepicker_wrap"),g=(v.find("div"),h.find("input"));e(".reset_time").on("click",function(){c.val(""),o()}),e(".timepicki-input").keydown(function(t){function a(){var e=/^\d+$/.test(l.val()),n=""===l.val();if(s.hasClass("time"))if(e){var a=i.show_meridian?Math.min(Math.max(parseInt(l.val()),1),12):Math.min(Math.max(parseInt(l.val()),0),23);l.val(a)}else n||l.val(d);else if(s.hasClass("mins"))if(e){var o=Math.min(Math.max(parseInt(l.val()),0),59);l.val(o)}else n||l.val(d);else s.hasClass("meridian")&&t.preventDefault()}function r(){done||(a(),done=!0)}if(13==t.keyCode)return t.preventDefault(),n(),o(),void 0;var s=e(this).parent().parent(),l=e(this),d=l.val();done=!1,setTimeout(r,0)}),e(document).on("click",function(i){if(!e(i.target).is(v)&&"block"==v.css("display")&&!e(i.target).is(e(".reset_time")))if(e(i.target).is(c)){var o=0;v.css({top:u+"px",left:o+"px"}),a()}else n(i,!t(e(i.target)))}),c.on("focus",a),g.on("focus",function(){var t=e(this);t.is(c)||t.select()}),g.on("keydown",function(t){var n,a=e(this);38===t.which?n="down"===i.increase_direction?"prev":"next":40===t.which&&(n="down"===i.increase_direction?"next":"prev"),a.closest(".timepicker_wrap .time").length?s(null,n):a.closest(".timepicker_wrap .mins").length?l(null,n):a.closest(".timepicker_wrap .meridian").length&&i.show_meridian&&d(null,n)}),g.on("blur",function(){setTimeout(function(){var i=e(document.activeElement);i.is(":input")&&!t(i)&&(n(),o())},0)});var b=v.find(".action-next"),y=v.find(".action-prev");e(y).add(b).on("click",function(){var t=e(this);"time"==t.parent().attr("class")?s(t):"mins"==t.parent().attr("class")?l(t):i.show_meridian&&d(t)})})}}(jQuery),later=function(){"use strict";var e={version:"1.2.0"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!=i?i=0:0!=i&&i!=1/0&&i!=-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var a=i>=0?i:Math.max(n-Math.abs(i),0);n>a;a++)if(a in t&&t[a]===e)return a;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.array={},e.array.sort=function(e,t){e.sort(function(e,t){return+e-+t}),t&&0===e[0]&&e.push(e.shift())},e.array.next=function(e,t,n){for(var i,a=0!==n[0],o=0,r=t.length-1;r>-1;--r){if(i=t[r],i===e)return i;if(!(i>e||0===i&&a&&n[1]>e))break;o=r}return t[o]},e.array.nextInvalid=function(e,t,n){for(var i=n[0],a=n[1],o=t.length,r=0===t[o-1]&&0!==i?a:0,s=e,l=t.indexOf(e),d=s;s===(t[l]||r);)if(s++,s>a&&(s=i),l++,l===o&&(l=0),s===d)return;return s},e.array.prev=function(e,t,n){for(var i,a=t.length,o=0!==n[0],r=a-1,s=0;a>s;s++){if(i=t[s],i===e)return i;if(!(e>i||0===i&&o&&n[1]<e))break;r=s}return t[r]},e.array.prevInvalid=function(e,t,n){for(var i=n[0],a=n[1],o=t.length,r=0===t[o-1]&&0!==i?a:0,s=e,l=t.indexOf(e),d=s;s===(t[l]||r);)if(s--,i>s&&(s=a),l--,-1===l&&(l=o-1),s===d)return;return s},e.day=e.D={name:"day",range:86400,val:function(t){return t.D||(t.D=e.date.getDate.call(t))},isValid:function(t,n){return e.D.val(t)===(n||e.D.extent(t)[1])},extent:function(t){if(t.DExtent)return t.DExtent;var n=e.M.val(t),i=e.DAYS_IN_MONTH[n-1];return 2===n&&366===e.dy.extent(t)[1]&&(i+=1),t.DExtent=[1,i]},start:function(t){return t.DStart||(t.DStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)))},end:function(t){return t.DEnd||(t.DEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)))},next:function(t,n){n=n>e.D.extent(t)[1]?1:n;var i=e.date.nextRollover(t,n,e.D,e.M),a=e.D.extent(i)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(i),e.M.val(i),n)},prev:function(t,n){var i=e.date.prevRollover(t,n,e.D,e.M),a=e.D.extent(i)[1];return e.date.prev(e.Y.val(i),e.M.val(i),n>a?a:n||a)}},e.dayOfWeekCount=e.dc={name:"day of week count",range:604800,val:function(t){return t.dc||(t.dc=Math.floor((e.D.val(t)-1)/7)+1)},isValid:function(t,n){return e.dc.val(t)===n||0===n&&e.D.val(t)>e.D.extent(t)[1]-7},extent:function(t){return t.dcExtent||(t.dcExtent=[1,Math.ceil(e.D.extent(t)[1]/7)])},start:function(t){return t.dcStart||(t.dcStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(1,7*(e.dc.val(t)-1)+1||1)))},end:function(t){return t.dcEnd||(t.dcEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(7*e.dc.val(t),e.D.extent(t)[1])))},next:function(t,n){n=n>e.dc.extent(t)[1]?1:n;var i=e.date.nextRollover(t,n,e.dc,e.M),a=e.dc.extent(i)[1];n=n>a?1:n;var o=e.date.next(e.Y.val(i),e.M.val(i),0===n?e.D.extent(i)[1]-6:1+7*(n-1));return o.getTime()<=t.getTime()?(i=e.M.next(t,e.M.val(t)+1),e.date.next(e.Y.val(i),e.M.val(i),0===n?e.D.extent(i)[1]-6:1+7*(n-1))):o},prev:function(t,n){var i=e.date.prevRollover(t,n,e.dc,e.M),a=e.dc.extent(i)[1];return n=n>a?a:n||a,e.dc.end(e.date.prev(e.Y.val(i),e.M.val(i),1+7*(n-1)))}},e.dayOfWeek=e.dw=e.d={name:"day of week",range:86400,val:function(t){return t.dw||(t.dw=e.date.getDay.call(t)+1)},isValid:function(t,n){return e.dw.val(t)===(n||7)},extent:function(){return[1,7]},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){return n=n>7?1:n||7,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n<=e.dw.val(t)?7:0))},prev:function(t,n){return n=n>7?7:n||7,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n>=e.dw.val(t)?-7:0))}},e.dayOfYear=e.dy={name:"day of year",range:86400,val:function(t){return t.dy||(t.dy=Math.ceil(1+(e.D.start(t).getTime()-e.Y.start(t).getTime())/e.DAY))},isValid:function(t,n){return e.dy.val(t)===(n||e.dy.extent(t)[1])},extent:function(t){var n=e.Y.val(t);return t.dyExtent||(t.dyExtent=[1,n%4?365:366])},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){n=n>e.dy.extent(t)[1]?1:n;var i=e.date.nextRollover(t,n,e.dy,e.Y),a=e.dy.extent(i)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(i),e.M.val(i),n)},prev:function(t,n){var i=e.date.prevRollover(t,n,e.dy,e.Y),a=e.dy.extent(i)[1];return n=n>a?a:n||a,e.date.prev(e.Y.val(i),e.M.val(i),n)}},e.hour=e.h={name:"hour",range:3600,val:function(t){return t.h||(t.h=e.date.getHour.call(t))},isValid:function(t,n){return e.h.val(t)===n},extent:function(){return[0,23]},start:function(t){return t.hStart||(t.hStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},end:function(t){return t.hEnd||(t.hEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},next:function(t,n){n=n>23?0:n;var i=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.h.val(t)?1:0),n);return!e.date.isUTC&&i.getTime()<=t.getTime()&&(i=e.date.next(e.Y.val(i),e.M.val(i),e.D.val(i),n+1)),i},prev:function(t,n){return n=n>23?23:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.h.val(t)?-1:0),n)}},e.minute=e.m={name:"minute",range:60,val:function(t){return t.m||(t.m=e.date.getMin.call(t))},isValid:function(t,n){return e.m.val(t)===n},extent:function(){return[0,59]},start:function(t){return t.mStart||(t.mStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},end:function(t){return t.mEnd||(t.mEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},next:function(t,n){var i=e.m.val(t),a=e.s.val(t),o=n>59?60-i:i>=n?60-i+n:n-i,r=new Date(t.getTime()+o*e.MIN-a*e.SEC);return!e.date.isUTC&&r.getTime()<=t.getTime()&&(r=new Date(t.getTime()+(o+120)*e.MIN-a*e.SEC)),r},prev:function(t,n){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)+(n>=e.m.val(t)?-1:0),n)}},e.month=e.M={name:"month",range:2629740,val:function(t){return t.M||(t.M=e.date.getMonth.call(t)+1)},isValid:function(t,n){return e.M.val(t)===(n||12)},extent:function(){return[1,12]},start:function(t){return t.MStart||(t.MStart=e.date.next(e.Y.val(t),e.M.val(t)))},end:function(t){return t.MEnd||(t.MEnd=e.date.prev(e.Y.val(t),e.M.val(t)))},next:function(t,n){return n=n>12?1:n||12,e.date.next(e.Y.val(t)+(n>e.M.val(t)?0:1),n)},prev:function(t,n){return n=n>12?12:n||12,e.date.prev(e.Y.val(t)-(n>=e.M.val(t)?1:0),n)}},e.second=e.s={name:"second",range:1,val:function(t){return t.s||(t.s=e.date.getSec.call(t))},isValid:function(t,n){return e.s.val(t)===n},extent:function(){return[0,59]},start:function(e){return e},end:function(e){return e},next:function(t,n){var i=e.s.val(t),a=n>59?60-i:i>=n?60-i+n:n-i,o=new Date(t.getTime()+a*e.SEC);return!e.date.isUTC&&o.getTime()<=t.getTime()&&(o=new Date(t.getTime()+(a+7200)*e.SEC)),o},prev:function(t,n){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)+(n>=e.s.val(t)?-1:0),n)}},e.time=e.t={name:"time",range:1,val:function(t){return t.t||(t.t=3600*e.h.val(t)+60*e.m.val(t)+e.s.val(t))},isValid:function(t,n){return e.t.val(t)===n},extent:function(){return[0,86399]},start:function(e){return e},end:function(e){return e},next:function(t,n){n=n>86399?0:n;var i=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.t.val(t)?1:0),0,0,n);return!e.date.isUTC&&i.getTime()<t.getTime()&&(i=e.date.next(e.Y.val(i),e.M.val(i),e.D.val(i),e.h.val(i),e.m.val(i),n+7200)),i},prev:function(t,n){return n=n>86399?86399:n,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.t.val(t)?-1:0),0,0,n)}},e.weekOfMonth=e.wm={name:"week of month",range:604800,val:function(t){return t.wm||(t.wm=(e.D.val(t)+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(t)))/7)},isValid:function(t,n){return e.wm.val(t)===(n||e.wm.extent(t)[1])},extent:function(t){return t.wmExtent||(t.wmExtent=[1,(e.D.extent(t)[1]+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(e.M.end(t))))/7])},start:function(t){return t.wmStart||(t.wmStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(e.D.val(t)-e.dw.val(t)+1,1)))},end:function(t){return t.wmEnd||(t.wmEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(e.D.val(t)+(7-e.dw.val(t)),e.D.extent(t)[1])))},next:function(t,n){n=n>e.wm.extent(t)[1]?1:n;var i=e.date.nextRollover(t,n,e.wm,e.M),a=e.wm.extent(i)[1];return n=n>a?1:n||a,e.date.next(e.Y.val(i),e.M.val(i),Math.max(1,7*(n-1)-(e.dw.val(i)-2)))},prev:function(t,n){var i=e.date.prevRollover(t,n,e.wm,e.M),a=e.wm.extent(i)[1];return n=n>a?a:n||a,e.wm.end(e.date.next(e.Y.val(i),e.M.val(i),Math.max(1,7*(n-1)-(e.dw.val(i)-2))))}},e.weekOfYear=e.wy={name:"week of year (ISO)",range:604800,val:function(t){if(t.wy)return t.wy;var n=e.dw.next(e.wy.start(t),5),i=e.dw.next(e.Y.prev(n,e.Y.val(n)-1),5);return t.wy=1+Math.ceil((n.getTime()-i.getTime())/e.WEEK)},isValid:function(t,n){return e.wy.val(t)===(n||e.wy.extent(t)[1])},extent:function(t){if(t.wyExtent)return t.wyExtent;var n=e.dw.next(e.wy.start(t),5),i=e.dw.val(e.Y.start(n)),a=e.dw.val(e.Y.end(n));return t.wyExtent=[1,5===i||5===a?53:52]},start:function(t){return t.wyStart||(t.wyStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)-(e.dw.val(t)>1?e.dw.val(t)-2:6)))},end:function(t){return t.wyEnd||(t.wyEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(e.dw.val(t)>1?8-e.dw.val(t):0)))},next:function(t,n){n=n>e.wy.extent(t)[1]?1:n;var i=e.dw.next(e.wy.start(t),5),a=e.date.nextRollover(i,n,e.wy,e.Y);1!==e.wy.val(a)&&(a=e.dw.next(a,2));var o=e.wy.extent(a)[1],r=e.wy.start(a);return n=n>o?1:n||o,e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r)+7*(n-1))},prev:function(t,n){var i=e.dw.next(e.wy.start(t),5),a=e.date.prevRollover(i,n,e.wy,e.Y);1!==e.wy.val(a)&&(a=e.dw.next(a,2));var o=e.wy.extent(a)[1],r=e.wy.end(a);return n=n>o?o:n||o,e.wy.end(e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r)+7*(n-1)))}},e.year=e.Y={name:"year",range:31556900,val:function(t){return t.Y||(t.Y=e.date.getYear.call(t))},isValid:function(t,n){return e.Y.val(t)===n},extent:function(){return[1970,2099]},start:function(t){return t.YStart||(t.YStart=e.date.next(e.Y.val(t)))},end:function(t){return t.YEnd||(t.YEnd=e.date.prev(e.Y.val(t)))},next:function(t,n){return n>e.Y.val(t)&&n<=e.Y.extent()[1]?e.date.next(n):e.NEVER},prev:function(t,n){return n<e.Y.val(t)&&n>=e.Y.extent()[0]?e.date.prev(n):e.NEVER}},e.fullDate=e.fd={name:"full date",range:1,val:function(e){return e.fd||(e.fd=e.getTime())},isValid:function(t,n){return e.fd.val(t)===n},extent:function(){return[0,3250368e7]},start:function(e){return e},end:function(e){return e},next:function(t,n){return e.fd.val(t)<n?new Date(n):e.NEVER},prev:function(t,n){return e.fd.val(t)>n?new Date(n):e.NEVER}},e.modifier={},e.modifier.after=e.modifier.a=function(e,t){var n=t[0];return{name:"after "+e.name,range:(e.extent(new Date)[1]-n)*e.range,val:e.val,isValid:function(e){return this.val(e)>=n},extent:e.extent,start:e.start,end:e.end,next:function(t,i){return i!=n&&(i=e.extent(t)[0]),e.next(t,i)},prev:function(t,i){return i=i===n?e.extent(t)[1]:n-1,e.prev(t,i)}}},e.modifier.before=e.modifier.b=function(e,t){var n=t[t.length-1];return{name:"before "+e.name,range:e.range*(n-1),val:e.val,isValid:function(e){return this.val(e)<n},extent:e.extent,start:e.start,end:e.end,next:function(t,i){return i=i===n?e.extent(t)[0]:n,e.next(t,i)},prev:function(t,i){return i=i===n?n-1:e.extent(t)[1],e.prev(t,i)}}},e.compile=function(t){function n(e){return"next"===e?function(e,t){return e.getTime()>t.getTime()}:function(e,t){return t.getTime()>e.getTime()}}var i,a=[],o=0;for(var r in t){var s=r.split("_"),l=s[0],d=s[1],c=t[r],u=d?e.modifier[d](e[l],c):e[l];a.push({constraint:u,vals:c}),o++}return a.sort(function(e,t){var n=e.constraint.range,i=t.constraint.range;return n>i?-1:i>n?1:0}),i=a[o-1].constraint,{start:function(t,n){for(var r,s=n,l=e.array[t],d=1e3;d--&&!r&&s;){r=!0;for(var c=0;o>c;c++){var u=a[c].constraint,h=u.val(s),f=u.extent(s),m=l(h,a[c].vals,f);if(!u.isValid(s,m)){s=u[t](s,m),r=!1;break}}}return s!==e.NEVER&&(s="next"===t?i.start(s):i.end(s)),s},end:function(t,i){for(var r,s=e.array[t+"Invalid"],l=n(t),d=o-1;d>=0;d--){var c,u=a[d].constraint,h=u.val(i),f=u.extent(i),m=s(h,a[d].vals,f);void 0!==m&&(c=u[t](i,m),!c||r&&!l(r,c)||(r=c))}return r},tick:function(t,n){return new Date("next"===t?i.end(n).getTime()+e.SEC:i.start(n).getTime()-e.SEC)},tickStart:function(e){return i.start(e)}}},e.schedule=function(t){function n(t,n,v,y,w){var _,$,k,x=f(t),S=n,D=1e3,C=[],M=[],T=[],Y="next"===t,O=Y?0:1,P=Y?1:0;if(v=v?new Date(v):new Date,!v||!v.getTime())throw new Error("Invalid start date.");for(a(t,p,C,v),r(t,g,M,v);D--&&S&&(_=m(C,x))&&(!y||!x(_,y));)if(b&&(s(t,g,M,_),$=c(t,M,_)))o(t,p,C,$);else{if(w){var I=u(M,x);$=h(t,p,C,_,I);var L=Y?[new Date(Math.max(v,_)),$?new Date(y?Math.min($,y):$):void 0]:[$?new Date(y?Math.max(y,$.getTime()+e.SEC):$.getTime()+e.SEC):void 0,new Date(Math.min(v,_.getTime()+e.SEC))];if(k&&L[O].getTime()===k[P].getTime()?(k[P]=L[P],S++):(k=L,T.push(k)),!$)break;o(t,p,C,$)}else T.push(Y?new Date(Math.max(v,_)):d(p,C,_,y)),l(t,p,C,_);S--}for(var E=0,R=T.length;R>E;E++){var F=T[E];T[E]="[object Array]"===Object.prototype.toString.call(F)?[i(F[0]),i(F[1])]:i(F)}return 0===T.length?e.NEVER:1===n?T[0]:T}function i(e){return e instanceof Date&&!isNaN(e.valueOf())?new Date(e):void 0}function a(e,t,n,i){for(var a=0,o=t.length;o>a;a++)n[a]=t[a].start(e,i)}function o(e,t,n,i){for(var a=f(e),o=0,r=t.length;r>o;o++)n[o]&&!a(n[o],i)&&(n[o]=t[o].start(e,i))}function r(t,n,i,a){for(var o=(f(t),0),r=n.length;r>o;o++){var s=n[o].start(t,a);i[o]=s?[s,n[o].end(t,s)]:e.NEVER}}function s(t,n,i,a){for(var o=f(t),r=0,s=n.length;s>r;r++)if(i[r]&&!o(i[r][0],a)){var l=n[r].start(t,a);i[r]=l?[l,n[r].end(t,l)]:e.NEVER}}function l(e,t,n,i){for(var a=0,o=t.length;o>a;a++)n[a]&&n[a].getTime()===i.getTime()&&(n[a]=t[a].start(e,t[a].tick(e,i)))}function d(e,t,n,i){for(var a,o=0,r=t.length;r>o;o++)if(t[o]&&t[o].getTime()===n.getTime()){var s=e[o].tickStart(n);if(i&&i>s)return i;(!a||s>a)&&(a=s)}return a}function c(e,t,n){for(var i,a=f(e),o=0,r=t.length;r>o;o++){var s=t[o];!s||a(s[0],n)||s[1]&&!a(s[1],n)||(!i||a(s[1],i))&&(i=s[1])}return i}function u(e,t){for(var n,i=0,a=e.length;a>i;i++)!e[i]||n&&!t(n,e[i][0])||(n=e[i][0]);return n}function h(e,t,n,i,a){for(var o,r=f(e),s=0,l=t.length;l>s;s++){var d=n[s];if(d&&d.getTime()===i.getTime()){var c=t[s].end(e,d);if(a&&(!c||r(c,a)))return a;(!o||r(c,o))&&(o=c)}}return o}function f(e){return"next"===e?function(e,t){return!t||e.getTime()>t.getTime()}:function(e,t){return!e||t.getTime()>e.getTime()}}function m(e,t){for(var n=e[0],i=1,a=e.length;a>i;i++)e[i]&&t(n,e[i])&&(n=e[i]);return n}if(!t)throw new Error("Missing schedule definition.");if(!t.schedules)throw new Error("Definition must include at least one schedule.");for(var p=[],v=t.schedules.length,g=[],b=t.exceptions?t.exceptions.length:0,y=0;v>y;y++)p.push(e.compile(t.schedules[y]));for(var w=0;b>w;w++)g.push(e.compile(t.exceptions[w]));return{isValid:function(t){return n("next",1,t,t)!==e.NEVER},next:function(e,t,i){return n("next",e||1,t,i)},prev:function(e,t,i){return n("prev",e||1,t,i)},nextRange:function(e,t,i){return n("next",e||1,t,i,!0)},prevRange:function(e,t,i){return n("prev",e||1,t,i,!0)}}},e.setTimeout=function(t,n){function i(){var e=Date.now(),n=o.next(2,e);if(!n[0])return void(a=void 0);var r=n[0].getTime()-e;1e3>r&&(r=n[1]?n[1].getTime()-e:1e3),a=2147483647>r?setTimeout(t,r):setTimeout(i,2147483647)}var a,o=e.schedule(n);return t&&i(),{isDone:function(){return!a},clear:function(){clearTimeout(a)}}},e.setInterval=function(t,n){function i(){o||(t(),a=e.setTimeout(i,n))}if(t){var a=e.setTimeout(i,n),o=a.isDone();return{isDone:function(){return a.isDone()},clear:function(){o=!0,a.clear()}}}},e.date={},e.date.timezone=function(t){e.date.build=t?function(e,t,n,i,a,o){return new Date(e,t,n,i,a,o)}:function(e,t,n,i,a,o){return new Date(Date.UTC(e,t,n,i,a,o))};var n=t?"get":"getUTC",i=Date.prototype;e.date.getYear=i[n+"FullYear"],e.date.getMonth=i[n+"Month"],e.date.getDate=i[n+"Date"],e.date.getDay=i[n+"Day"],e.date.getHour=i[n+"Hours"],e.date.getMin=i[n+"Minutes"],e.date.getSec=i[n+"Seconds"],e.date.isUTC=!t},e.date.UTC=function(){e.date.timezone(!1)},e.date.localTime=function(){e.date.timezone(!0)},e.date.UTC(),e.SEC=1e3,e.MIN=60*e.SEC,e.HOUR=60*e.MIN,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],e.NEVER=0,e.date.next=function(t,n,i,a,o,r){return e.date.build(t,void 0!==n?n-1:0,void 0!==i?i:1,a||0,o||0,r||0)},e.date.nextRollover=function(t,n,i,a){var o=i.val(t),r=i.extent(t)[1];return o>=(n||r)||n>r?new Date(a.end(t).getTime()+e.SEC):a.start(t)},e.date.prev=function(t,n,i,a,o,r){var s=arguments.length;return n=2>s?11:n-1,i=3>s?e.D.extent(e.date.next(t,n+1))[1]:i,a=4>s?23:a,o=5>s?59:o,r=6>s?59:r,e.date.build(t,n,i,a,o,r)},e.date.prevRollover=function(e,t,n,i){var a=n.val(e);return t>=a||!t?i.start(i.prev(e,i.val(e)-1)):i.start(e)},e.parse={},e.parse.cron=function(e,t){function n(e,t,n){return isNaN(e)?f[e]||null:Math.min(+e+(t||0),n||9999)}function i(e){var t,n={};for(t in e)"dc"!==t&&"d"!==t&&(n[t]=e[t].slice(0));return n}function a(e,t,n,i,a){var o=n;for(e[t]||(e[t]=[]);i>=o;)e[t].indexOf(o)<0&&e[t].push(o),o+=a||1;e[t].sort(function(e,t){return e-t})}function o(e,t,n,o){(t.d&&!t.dc||t.dc&&t.dc.indexOf(o)<0)&&(e.push(i(t)),t=e[e.length-1]),a(t,"d",n,n),a(t,"dc",o,o)}function r(e,t,n){var i={},o={};1===n?(a(t,"D",1,3),a(t,"d",f.MON,f.FRI),a(i,"D",2,2),a(i,"d",f.TUE,f.FRI),a(o,"D",3,3),a(o,"d",f.TUE,f.FRI)):(a(t,"D",n-1,n+1),a(t,"d",f.MON,f.FRI),a(i,"D",n-1,n-1),a(i,"d",f.MON,f.THU),a(o,"D",n+1,n+1),a(o,"d",f.TUE,f.FRI)),e.exceptions.push(i),e.exceptions.push(o)}function s(e,t,i,o,r,s){var l=e.split("/"),d=+l[1],c=l[0];if("*"!==c&&"0"!==c){var u=c.split("-");o=n(u[0],s,r),r=n(u[1],s,r)||r}a(t,i,o,r,d)}function l(e,t,i,l,d,c){var u,h,f=t.schedules,m=f[f.length-1];"L"===e&&(e=l-1),null!==(u=n(e,c,d))?a(m,i,u,u):null!==(u=n(e.replace("W",""),c,d))?r(t,m,u):null!==(u=n(e.replace("L",""),c,d))?o(f,m,u,l-1):2===(h=e.split("#")).length?(u=n(h[0],c,d),o(f,m,u,n(h[1]))):s(e,m,i,l,d,c)}function d(e){return e.indexOf("#")>-1||e.indexOf("L")>0}function c(e,t){return d(e)&&!d(t)?1:e-t}function u(e){var t,n,i,a,o={schedules:[{}],exceptions:[]},r=e.replace(/(\s)+/g," ").split(" ");for(t in p)if(n=p[t],i=r[n[0]],i&&"*"!==i&&"?"!==i){a=i.split(",").sort(c);var s,d=a.length;for(s=0;d>s;s++)l(a[s],o,t,n[1],n[2],n[3])}return o}function h(e){var t=e.toUpperCase();return m[t]||t}var f={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},m={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},p={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]},v=h(e);return u(t?v:"0 "+v)},e.parse.recur=function(){function t(e,t,u){if(e=r?e+"_"+r:e,n||(f.push({}),n=f[0]),n[e]||(n[e]=[]),i=n[e],o){for(a=[],d=t;u>=d;d+=o)a.push(d);c={n:e,x:o,c:i.length,m:u}}a=s?[t]:l?[u]:a;var h=a.length;for(d=0;h>d;d+=1){var m=a[d];i.indexOf(m)<0&&i.push(m)}a=o=r=s=l=0}var n,i,a,o,r,s,l,d,c,u=[],h=[],f=u;return{schedules:u,exceptions:h,on:function(){return a=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(e){return o=e||1,this},after:function(e){return r="a",a=[e],this},before:function(e){return r="b",a=[e],this},first:function(){return s=1,this},last:function(){return l=1,this},time:function(){for(var e=0,n=a.length;n>e;e++){var i=a[e].split(":");i.length<3&&i.push(0),a[e]=3600*+i[0]+60*+i[1]+ +i[2]}return t("t"),this},second:function(){return t("s",0,59),this},minute:function(){return t("m",0,59),this},hour:function(){return t("h",0,23),this},dayOfMonth:function(){return t("D",1,l?0:31),this},dayOfWeek:function(){return t("d",1,7),this},onWeekend:function(){return a=[1,7],this.dayOfWeek()},onWeekday:function(){return a=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return t("dc",1,l?0:5),this},dayOfYear:function(){return t("dy",1,l?0:366),this},weekOfMonth:function(){return t("wm",1,l?0:5),this},weekOfYear:function(){return t("wy",1,l?0:53),this},month:function(){return t("M",1,12),this},year:function(){return t("Y",1970,2450),this},fullDate:function(){for(var e=0,n=a.length;n>e;e++)a[e]=a[e].getTime();return t("fd"),this},customModifier:function(t){var n=e.modifier[t];if(!n)throw new Error("Custom modifier "+t+" not recognized!");return r=t,a=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(n){var i=e[n];if(!i)throw new Error("Custom time period "+n+" not recognized!");return t(n,i.extent(new Date)[0],i.extent(new Date)[1]),this},startingOn:function(e){return this.between(e,c.m)},between:function(e,i){return n[c.n]=n[c.n].splice(0,c.c),o=c.x,t(c.n,e,i),this},and:function(){return n=f[f.push({})-1],this},except:function(){return f=h,n=null,this}}},e.parse.text=function(t){function n(e,t,n,i){return{startPos:e,endPos:t,text:n,type:i}}function i(e){var t,i,a,o,r,s,l=e instanceof Array?e:[e],d=/\s+/;for(l.push(d),r=g;!t||t.type===d;){s=-1,i=b.substring(r),t=n(r,r,b.split(d)[0]);var c,u=l.length;for(c=0;u>c;c++)o=l[c],a=o.exec(i),a&&0===a.index&&a[0].length>s&&(s=a[0].length,t=n(r,r+s,i.substring(0,s),o));t.type===d&&(r=t.endPos)}return t}function a(e){var t=i(e);return g=t.endPos,t}function o(e){for(var t=+f(e),n=u(y.through)?+f(e):t,i=[],a=t;n>=a;a++)i.push(a);return i}function r(e){for(var t=o(e);u(y.and);)t=t.concat(o(e));return t}function s(e){var t,n,i,a;u(y.weekend)?e.on(w.sun,w.sat).dayOfWeek():u(y.weekday)?e.on(w.mon,w.tue,w.wed,w.thu,w.fri).dayOfWeek():(t=f(y.rank),e.every(t),n=c(e),u(y.start)?(t=f(y.rank),e.startingOn(t),h(n.type)):u(y.between)&&(i=f(y.rank),u(y.and)&&(a=f(y.rank),e.between(i,a))))}function l(e){u(y.first)?e.first():u(y.last)?e.last():e.on(r(y.rank)),c(e)}function d(e){g=0,b=e,p=-1;for(var t=v();g<b.length&&0>p;){var n=h([y.every,y.after,y.before,y.onthe,y.on,y.of,y["in"],y.at,y.and,y.except,y.also]);switch(n.type){case y.every:s(t);break;case y.after:void 0!==i(y.time).type?(t.after(f(y.time)),t.time()):(t.after(f(y.rank)),c(t));break;case y.before:void 0!==i(y.time).type?(t.before(f(y.time)),t.time()):(t.before(f(y.rank)),c(t));break;case y.onthe:l(t);break;case y.on:t.on(r(y.dayName)).dayOfWeek();break;case y.of:t.on(r(y.monthName)).month();break;case y["in"]:t.on(r(y.yearIndex)).year();break;case y.at:for(t.on(f(y.time)).time();u(y.and);)t.on(f(y.time)).time();break;case y.and:break;case y.also:t.and();break;case y.except:t.except();break;default:p=g}}return{schedules:t.schedules,exceptions:t.exceptions,error:p}}function c(e){var t=h([y.second,y.minute,y.hour,y.dayOfYear,y.dayOfWeek,y.dayInstance,y.day,y.month,y.year,y.weekOfMonth,y.weekOfYear]);switch(t.type){case y.second:e.second();break;case y.minute:e.minute();break;case y.hour:e.hour();break;case y.dayOfYear:e.dayOfYear();break;case y.dayOfWeek:e.dayOfWeek();break;case y.dayInstance:e.dayOfWeekCount();break;case y.day:e.dayOfMonth();break;case y.weekOfMonth:e.weekOfMonth();break;case y.weekOfYear:e.weekOfYear();break;case y.month:e.month();break;case y.year:e.year();break;default:p=g}return t}function u(e){var t=i(e).type===e;return t&&a(e),t}function h(e){var t=a(e);return t.type?t.text=m(t.text,e):p=g,t}function f(e){return h(e).text}function m(e,t){var n=e;switch(t){case y.time:var i=e.split(/(:|am|pm)/),a="pm"===i[3]&&i[0]<12?parseInt(i[0],10)+12:i[0],o=i[2].trim();n=(1===a.length?"0":"")+a+":"+o;break;case y.rank:n=parseInt(/^\d+/.exec(e)[0],10);break;case y.monthName:case y.dayName:n=w[e.substring(0,3)]}return n}var p,v=e.parse.recur,g=0,b="",y={eof:/^$/,rank:/^((\d+)(st|nd|rd|th)?)\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},w={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4};return d(t.toLowerCase())},e}(),window_width=$(window).width(),setTimeout(function(){footerPaddingCalculation()},1e3),$(".with-dropdown").on("click",function(e){e.preventDefault()}),window_height=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?$(window).height()+60:$(window).height(),window.onresize=function(){$(".expand-js").off("click"),window_width=$(window).width(),window_height=$(window).height(),$("footer").css({height:""}),assignSizeClass()},assignSizeClass(),$(".selectList").each(function(){$(this).css({minWidth:$(this).parent().width()-1})}),$("html").on("click",function(e){$(e.target).closest(".multiSelect").length||$(".multiSelect").removeClass("active")}),$("html").on("click",".multiSelect label:first-child",function(e){e.preventDefault(),e.stopPropagation(),$(".multiSelect").removeClass("active"),$(this).parent().addClass("active")}),$("html").on("click",".multiSelect.active label:first",function(e){e.preventDefault(),e.stopPropagation(),$(".multiSelect").removeClass("active")}),$(".sticky-bottom-ad").on("click",".close-ad",function(e){e.preventDefault(),$(".sticky-bottom-ad").hide(),$("body").addClass("sticky-ad-closed")}),$(document).on("click",".js-toggle-checkbox-on-click",function(e){e.preventDefault();var t=$(this),n=t.data("target")||t.attr("href"),i=$(n);i.length&&i.click()}),$(document).on("click",".js-mfp-close-on-click",function(e){e.preventDefault(),$.magnificPopup.close()}),$(document).on("click","button.disabled, .button.disabled",function(e){e.preventDefault()}),$(".mobile-menu .expand").click(function(e){e.stopPropagation(),e.preventDefault(),$(".nav-mobile").hasClass("expanded")?collapseMenu():expandMenu()}),$(".viewport").click(function(){$(".nav-mobile").hasClass("expanded")&&collapseMenu()}),$(function(){$(".scrollto").on("click",function(e){e.preventDefault();var t=$(this).data("scroll");$("body").animate({scrollTop:$(t).offset().top},800)})}),Popup.setupListeners(),$(".js-selectize").selectize(),$(".tabs .tab").hide(),$(".tabs .tab:first").show(),$(".tabs ul li:first").addClass("active"),$(".tabs ul li a").click(function(e){e.preventDefault(),$(".tabs ul li").removeClass("active"),$(this).parent().addClass("active");var t=$(this).attr("href");return $(".tabs .tab").hide(),$(t).show(),!1}),$("select").on("change",function(){$(this).blur()}),$(".disabled input, .disabled select, .disabled textarea").attr("disabled","disabled"),$(function(){$(".currency").maskMoney({precision:0,prefix:"$ ",affixesStay:!1}),$(".currency-no-prefix").maskMoney({precision:0,affixesStay:!1}),$(".currency-no-thousands").maskMoney({precision:0,prefix:"$ ",affixesStay:!1,thousands:""})}),$(".js-mfp-open-on-load").each(function(){$.magnificPopup.open({mainClass:$(this).data("mfpclass")?$(this).data("mfpclass"):null,items:{src:"#"+$(this).attr("id"),type:"inline"}})}),$(window).resize(function(){setTimeout(function(){footerPaddingCalculation()},100),mobileNavSizeCalculation()}),$(".sticky-bottom-ad .close-ad").on("click",function(){setTimeout(function(){footerPaddingCalculation()},100)}),$(".js-exclusive-checkboxes").exclusiveCheckboxes(),$(".custom-file-input-button").on("click",function(e){$(this).parent(".file-field").find(".custom-file-input").click(),e.preventDefault()}),$(".custom-file-input").change(function(){$(this).parent(".file-field").find(".custom-file-input-file-name").text($(this).val().split("\\").pop())}),$(document).on("change input",".js-submit-on-change",function(){$(this).trigger("submit.rails")}),$(document).on("keyup",function(e){27===e.keyCode&&leaveSite()}),$(".leave-site").on("click",function(e){leaveSite(),e.preventDefault()}),$(document).on("click",".js-submit-on-click",function(){$(this).trigger("submit.rails")});var shareables=".article-post_body p, .article-post_body h2, .article-post_body h3, .article-post_body h4, .article-post_body h5, .article-post_body h6";shareables+=".article-post_body ul, .article-post_body ol, .article-post_body blockquote, .article-post_body span",$(shareables).selectionSharer();
